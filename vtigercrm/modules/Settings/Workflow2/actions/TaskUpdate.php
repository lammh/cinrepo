<?php /*
This File was developed by Stefan Warnat <vtiger@stefanwarnat.de>

It belongs to the Workflow Designer and must not be distrubuted without the complete extension
*/
${"\x47\x4c\x4fBA\x4c\x53"}["o\x74m\x72\x70\x6f\x68q"]="\x64\x61\x74\x61";${"\x47L\x4fB\x41\x4c\x53"}["\x62t\x6eu\x77d\x75tiif"]="t\x6d\x70f\x6eame";${"\x47\x4cOB\x41LS"}["fw\x70\x6e\x79\x65los"]="\x66\x69le\x44\x6fw\x6e\x6co\x61\x64\x55\x72\x6c";${"GLO\x42\x41\x4c\x53"}["\x72\x6dd\x65c\x6b\x63f\x79"]="c\x6f\x6et\x65nt";${"G\x4c\x4f\x42AL\x53"}["b\x72nz\x75\x68\x71\x78\x67"]="\x72\x65\x73\x75\x6c\x74";${"\x47\x4c\x4fBALS"}["\x6e\x61\x63j\x66\x79\x66\x73\x6at\x6b"]="\x74yp\x65_\x69\x64";${"\x47\x4c\x4f\x42\x41\x4c\x53"}["\x67\x66\x75\x78e\x73ey\x6bw"]="\x73k\x69\x70\x53\x69g\x6e\x61\x74u\x72\x65\x43\x68\x65ck";${"GLO\x42\x41L\x53"}["\x78c\x62q\x69\x73\x70j\x79i\x76"]="p\x61\x72\x61\x6ds";${"G\x4c\x4f\x42\x41\x4c\x53"}["\x74r\x6dk\x67u\x74\x74w"]="r\x65\x73p\x6fn\x73\x65";${"\x47\x4c\x4f\x42AL\x53"}["e\x6c\x66l\x66t\x6a\x77v"]="a\x64b";${"\x47\x4c\x4f\x42A\x4c\x53"}["\x62\x68\x63\x62\x76r\x6d"]="\x72\x6f\x6f\x74\x5fd\x69r\x65c\x74\x6fr\x79";global$root_directory;require_once(${${"\x47L\x4fB\x41\x4c\x53"}["\x62\x68\x63\x62\x76\x72\x6d"]}."/\x6d\x6fd\x75les/W\x6f\x72\x6b\x66\x6cow\x32/\x61u\x74o\x6coa\x64\x5fwf\x2ephp");class Settings_Workflow2_TaskUpdate_Action extends Settings_Vtiger_Basic_Action{public function process(Vtiger_Request$request){${"\x47\x4c\x4fBAL\x53"}["\x61\x6fut\x6b\x6a\x6b"]="re\x73\x75l\x74";${${"\x47\x4c\x4f\x42AL\x53"}["el\x66\x6cf\x74\x6a\x77v"]}=PearDatabase::getInstance();${"\x47\x4c\x4fB\x41\x4c\x53"}["onz\x74\x74z\x64\x6br"]="\x73\x71\x6c";${${"\x47L\x4f\x42\x41LS"}["t\x72\x6dkg\x75t\x74w"]}=new Vtiger_Response();${"\x47\x4cO\x42\x41L\x53"}["\x65\x61\x72\x70r\x6anj\x6b\x65\x71"]="\x74y\x70\x65\x5f\x69\x64";$cjtvetbnqr="s\x71\x6c";$ohqfejmo="\x72\x65\x73\x75l\x74";${${"\x47\x4c\x4fB\x41\x4c\x53"}["\x78\x63\x62\x71\x69s\x70\x6a\x79i\x76"]}=$request->getAll();${${"GL\x4f\x42AL\x53"}["\x65\x61\x72\x70\x72\x6anj\x6beq"]}=(int)$request->get("t\x79\x70e\x5f\x69\x64");${${"\x47\x4c\x4f\x42\x41\x4c\x53"}["\x67f\x75x\x65s\x65\x79\x6b\x77"]}=(int)$request->get("sk\x69\x70\x53\x69gn\x61\x74u\x72\x65Che\x63\x6b");${${"\x47\x4c\x4f\x42\x41LS"}["\x6f\x6e\x7a\x74\x74\x7ad\x6br"]}="\x53\x45\x4cE\x43T\x20*\x20\x46RO\x4d v\x74\x69ge\x72\x5fwf\x5f\x72\x65p\x6f\x73i\x74\x6f\x72y_typ\x65\x73\x20\x57\x48ER\x45 id\x20=\x20".${${"\x47\x4cO\x42\x41L\x53"}["n\x61\x63\x6a\x66\x79\x66\x73\x6atk"]};${${"\x47LO\x42\x41\x4c\x53"}["\x61ou\x74k\x6a\x6b"]}=$adb->query(${$cjtvetbnqr});if($adb->num_rows(${$ohqfejmo})>0){${"\x47LO\x42AL\x53"}["qn\x6f\x6fv\x7a\x6b"]="t\x6d\x70f\x6e\x61\x6de";${"G\x4c\x4fB\x41\x4c\x53"}["\x6b\x75\x64o\x67fv\x75\x70g\x64\x6a"]="\x64a\x74a";$hzkbuj="dat\x61";${"G\x4cO\x42AL\x53"}["\x78v\x70\x68v\x63t"]="da\x74\x61";$cftpmf="\x64\x61t\x61";${"\x47LO\x42AL\x53"}["\x77\x6bqqu\x6a\x6eo\x72\x75\x64\x74"]="\x66\x69leD\x6fwn\x6co\x61\x64\x55\x72\x6c";${$hzkbuj}=$adb->fetchByAssoc(${${"\x47\x4c\x4f\x42\x41\x4cS"}["\x62\x72\x6ezuh\x71x\x67"]});${${"\x47L\x4f\x42A\x4c\x53"}["\x77\x6b\x71qu\x6anor\x75\x64\x74"]}=${${"\x47\x4cO\x42A\x4cS"}["\x6b\x75do\x67\x66\x76\x75pg\x64j"]}["url"];${${"\x47\x4c\x4fBA\x4c\x53"}["\x72\x6d\x64e\x63\x6b\x63\x66y"]}=VtUtils::getContentFromUrl(html_entity_decode(${${"G\x4c\x4f\x42\x41\x4c\x53"}["\x66\x77\x70\x6eye\x6c\x6f\x73"]}));${"\x47\x4cO\x42\x41LS"}["\x63\x68ud\x71\x7apg\x6b\x6b"]="s\x6b\x69\x70\x53\x69\x67\x6e\x61t\x75reC\x68\x65\x63k";${${"\x47\x4c\x4fBAL\x53"}["\x71n\x6f\x6f\x76\x7a\x6b"]}=tempnam(sys_get_temp_dir(),"W\x46\x44\x32");file_put_contents(${${"\x47LO\x42ALS"}["\x62\x74\x6e\x75\x77\x64\x75\x74\x69\x69f"]},${${"\x47\x4c\x4f\x42\x41\x4c\x53"}["r\x6d\x64\x65\x63\x6b\x63\x66\x79"]});if(!${${"\x47L\x4f\x42\x41\x4c\x53"}["\x63\x68\x75\x64q\x7a\x70\x67\x6b\x6b"]}&&false==\Workflow\Repository::checkSignature(${${"GLO\x42AL\x53"}["\x62tn\x75w\x64u\x74iif"]},${${"G\x4c\x4f\x42\x41LS"}["x\x76\x70\x68\x76c\x74"]}["repos\x5f\x69d"],${${"G\x4cO\x42\x41\x4cS"}["\x6ft\x6d\x72p\x6f\x68\x71"]}["c\x68e\x63ks\x75m"])){$jvbshbjxi="\x74m\x70\x66\x6e\x61\x6d\x65";echo"ch\x65c\x6b\x73um";@unlink(${$jvbshbjxi});return;}\Workflow\Repository::installFile(${${"\x47\x4cO\x42\x41\x4c\x53"}["\x62\x74\x6e\x75w\x64u\x74\x69\x69\x66"]},${$cftpmf}["versi\x6fn"],${${"\x47\x4c\x4fBA\x4c\x53"}["\x6ft\x6dr\x70ohq"]}["repos\x5f\x69d"]);@unlink(${${"G\x4cO\x42A\x4cS"}["bt\x6eu\x77\x64u\x74\x69if"]});}}}
?>