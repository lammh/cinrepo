<?php /*
This File was developed by Stefan Warnat <vtiger@stefanwarnat.de>

It belongs to the Workflow Designer and must not be distrubuted without the complete extension
*/
${"\x47\x4c\x4f\x42A\x4cS"}["\x74\x75z\x66\x74d\x6b\x65\x71"]="\x66h";${"G\x4c\x4fB\x41\x4cS"}["\x67\x66\x6aq\x66kw\x77v\x6dc"]="\x63\x6f\x64e";${"\x47\x4cOB\x41\x4c\x53"}["\x64\x76a\x70\x7aul\x6b\x6fz\x75"]="\x6f\x75t\x70u\x74\x73";${"\x47L\x4f\x42A\x4c\x53"}["\x61\x6ar\x75r\x74\x72p\x6fi"]="\x74\x61\x73\x6b\x44i\x72";${"G\x4cO\x42\x41L\x53"}["\x6c\x65\x6dp\x67\x64\x67\x79\x70\x70\x6c"]="\x74\x61s\x6b\x44\x61\x74\x61";${"\x47\x4c\x4fB\x41\x4cS"}["t\x66\x6e\x69e\x6f\x7a\x66\x73"]="\x73q\x6c";${"G\x4c\x4fBAL\x53"}["\x6b\x61hj\x79\x62n\x74\x71p\x73\x68"]="\x77\x6f\x72\x6b\x66low\x49D";${"\x47\x4c\x4fB\x41\x4c\x53"}["d\x68h\x75\x70\x78q\x68\x75\x76"]="\x61d\x62";${"\x47L\x4f\x42A\x4c\x53"}["r\x74n\x77q\x77\x65\x78\x75"]="\x72\x6f\x6f\x74_\x64i\x72e\x63\x74o\x72\x79";global$root_directory;require_once(${${"\x47\x4c\x4f\x42\x41\x4c\x53"}["\x72\x74\x6ewq\x77exu"]}."/\x6do\x64u\x6ce\x73/Wor\x6b\x66l\x6fw\x32/\x61\x75t\x6f\x6c\x6fa\x64_w\x66.ph\x70");class Settings_Workflow2_DownloadTask_Action extends Settings_Vtiger_Basic_Action{public function process(Vtiger_Request$request){${"\x47L\x4f\x42\x41\x4c\x53"}["\x75a\x72\x69\x68vw\x74"]="\x6f\x75\x74\x70\x75\x74";${"G\x4c\x4fB\x41L\x53"}["n\x67\x6db\x6e\x75\x6b"]="\x74\x61\x73k\x44\x61\x74\x61";${"GLOBA\x4c\x53"}["\x76l\x79\x6bbn\x62\x7a\x6c\x79"]="re\x73\x75\x6c\x74";${"\x47\x4c\x4fBA\x4cS"}["z\x6b\x67\x64\x68\x70"]="\x74\x61\x73\x6b\x44\x61\x74a";${"\x47\x4cOB\x41\x4c\x53"}["\x73fk\x73\x62xn\x7a"]="\x6f\x75\x74p\x75\x74s";${"\x47L\x4fB\x41\x4c\x53"}["\x77y\x76\x63t\x6e\x6c\x65m\x79\x62"]="\x74\x61\x73\x6b\x44\x69\x72";$ylwidxnk="r\x65\x73\x75\x6ct";$ubuetyqlsvl="f\x68";${"\x47L\x4f\x42\x41\x4cS"}["\x63\x6b\x70\x78jx\x6b\x69\x6f"]="\x74a\x73\x6b\x44\x61\x74\x61";global$current_user,$root_directory;$wihfigki="\x72\x6f\x6f\x74_d\x69\x72\x65c\x74o\x72y";${${"\x47\x4c\x4fB\x41L\x53"}["\x64h\x68\x75\x70\x78\x71\x68\x75\x76"]}=PearDatabase::getInstance();${${"G\x4c\x4f\x42\x41\x4c\x53"}["\x6b\x61\x68j\x79b\x6e\x74q\x70\x73\x68"]}=intval($request->get("\x77orkf\x6c\x6f\x77"));${"GL\x4f\x42\x41\x4c\x53"}["\x73\x6bjc\x6dy\x75c\x71\x78\x6f"]="\x74as\x6b\x44\x69\x72";$fskylqhxph="ro\x6f\x74_\x64\x69\x72e\x63\x74o\x72y";${"\x47\x4cOB\x41L\x53"}["q\x72\x62\x6e\x78v\x64q\x6bx"]="c\x6f\x64\x65";${"G\x4c\x4fBA\x4c\x53"}["g\x74\x6b\x74ph\x76fgt\x66"]="\x74\x61s\x6b\x44\x69r";${"G\x4c\x4f\x42\x41L\x53"}["jp\x6cj\x65\x67y"]="\x6e\x65w\x7a\x69\x70";${${"\x47\x4cO\x42AL\x53"}["\x74\x66\x6ei\x65\x6fzfs"]}="\x53E\x4cECT\x20*\x20\x46\x52\x4fM\x20v\x74i\x67er_\x77f\x5f\x74yp\x65\x73\x20W\x48\x45\x52E i\x64\x20\x3d\x20?";${$ylwidxnk}=$adb->pquery(${${"\x47\x4cO\x42\x41\x4c\x53"}["tfn\x69e\x6f\x7a\x66\x73"]},array((int)$_REQUEST["t\x61\x73\x6b"]));${${"G\x4c\x4fBALS"}["\x6c\x65m\x70g\x64\x67\x79p\x70\x6c"]}=$adb->fetchByAssoc(${${"\x47\x4c\x4fBA\x4c\x53"}["\x76\x6c\x79k\x62\x6e\x62\x7a\x6c\x79"]});${"G\x4cOB\x41\x4c\x53"}["\x6c\x7af\x68\x67\x76sb\x68\x6c\x71\x77"]="\x72\x6fo\x74\x5fd\x69\x72ect\x6fry";${${"\x47\x4cO\x42\x41\x4cS"}["\x61\x6a\x72\x75\x72tr\x70\x6fi"]}=${${"GL\x4fB\x41\x4c\x53"}["r\x74\x6e\x77\x71we\x78u"]}."/test/t\x61sk\x64ir/";mkdir(${${"\x47\x4c\x4f\x42AL\x53"}["a\x6a\x72\x75\x72\x74\x72\x70\x6f\x69"]});$hxmgqeq="\x74\x61s\x6b\x44a\x74\x61";$koiddfr="t\x61s\x6b\x44\x61\x74a";copy(${$wihfigki}."/\x6d\x6f\x64\x75le\x73/\x57o\x72\x6b\x66l\x6f\x77\x32/t\x61sks/".${${"G\x4cO\x42A\x4cS"}["c\x6b\x70\x78\x6a\x78k\x69\x6f"]}["\x68\x61\x6e\x64l\x65\x72cl\x61\x73s"].".\x70hp",${${"GL\x4f\x42AL\x53"}["s\x6b\x6a\x63m\x79u\x63\x71\x78\x6f"]}."\x74as\x6b.php");$kqlgswqbmne="\x74\x61s\x6b\x44\x61\x74a";if(file_exists(${$fskylqhxph}."/\x6d\x6f\x64\x75\x6c\x65s/\x57\x6fr\x6bf\x6c\x6fw2/\x74as\x6bs/"."\x57f\x54as\x6b".ucfirst(strtolower(str_replace("\x57fTa\x73k","",${$koiddfr}["\x68a\x6e\x64\x6c\x65rc\x6ca\x73s"]))).".\x6as")){${"\x47\x4c\x4f\x42\x41\x4c\x53"}["\x77x\x6f\x6c\x72\x73\x7aj\x7at\x78"]="ro\x6ft\x5f\x64\x69\x72\x65\x63\x74\x6fr\x79";copy(${${"GLO\x42\x41\x4c\x53"}["\x77\x78o\x6c\x72s\x7a\x6az\x74\x78"]}."/\x6d\x6fd\x75l\x65\x73/\x57\x6f\x72\x6bflo\x77\x32/\x74\x61sks/"."\x57\x66\x54as\x6b".ucfirst(strtolower(str_replace("WfT\x61\x73k","",${${"\x47\x4c\x4f\x42\x41\x4c\x53"}["\x6c\x65\x6d\x70\x67dg\x79\x70\x70\x6c"]}["\x68\x61\x6e\x64\x6c\x65r\x63lass"])))."\x2e\x6a\x73",${${"\x47LO\x42AL\x53"}["\x61j\x72u\x72t\x72\x70\x6f\x69"]}."tas\x6b\x2ej\x73");}if(file_exists(${${"\x47\x4c\x4f\x42A\x4c\x53"}["\x6cz\x66\x68\x67\x76s\x62h\x6c\x71\x77"]}."/\x6d\x6f\x64\x75l\x65s/W\x6f\x72kf\x6c\x6fw2/\x69\x63ons/".${${"G\x4c\x4f\x42\x41\x4cS"}["\x6c\x65mpgdg\x79\x70p\x6c"]}["\x62a\x63\x6b\x67\x72\x6fu\x6e\x64"]."\x2e\x70n\x67")){copy(${${"\x47\x4cO\x42AL\x53"}["r\x74\x6ew\x71\x77\x65x\x75"]}."/\x6d\x6f\x64ul\x65\x73/W\x6f\x72k\x66\x6co\x772/\x69c\x6f\x6es/".${${"\x47L\x4f\x42\x41\x4c\x53"}["\x6cempgdg\x79\x70pl"]}["\x62a\x63k\x67\x72o\x75\x6e\x64"].".p\x6e\x67",${${"GL\x4f\x42A\x4c\x53"}["\x61\x6a\x72u\x72\x74rp\x6f\x69"]}."\x69co\x6e.\x70\x6e\x67");}$isobnemft="t\x61\x73\x6b\x44a\x74\x61";$mjgefenud="t\x61s\x6bD\x69r";if(file_exists(${${"GL\x4f\x42\x41\x4c\x53"}["rtnwq\x77\x65x\x75"]}."/la\x79\x6fu\x74s/vl\x61\x79\x6f\x75t/\x6d\x6fd\x75\x6ces/S\x65\x74ti\x6e\x67\x73/W\x6f\x72\x6bfl\x6fw2/t\x61\x73\x6bf\x6frm\x73/Wf\x54a\x73k".ucfirst(strtolower(${$kqlgswqbmne}["\x74y\x70\x65"]))."\x2e\x74\x70\x6c")){${"\x47\x4cOB\x41\x4c\x53"}["\x66\x63\x62yj\x75\x75td"]="\x72o\x6f\x74_d\x69r\x65\x63\x74o\x72\x79";$ybvirs="\x74\x61\x73k\x44\x61\x74a";copy(${${"G\x4c\x4f\x42\x41LS"}["\x66c\x62y\x6a\x75\x75\x74d"]}."/layouts/\x76lay\x6f\x75t/\x6dod\x75\x6ce\x73/Settin\x67\x73/\x57orkf\x6c\x6f\x77\x32/t\x61skforms/\x57\x66\x54\x61\x73k".ucfirst(strtolower(${$ybvirs}["t\x79\x70\x65"]))."\x2e\x74pl",${${"\x47LO\x42ALS"}["\x61j\x72\x75\x72tr\x70\x6f\x69"]}."task.\x74\x70l");}if(file_exists(${${"\x47L\x4f\x42\x41\x4cS"}["\x72t\x6e\x77\x71w\x65\x78u"]}."/\x6ca\x79\x6fut\x73/\x76la\x79o\x75\x74/mo\x64u\x6ces/S\x65\x74\x74\x69ngs/Wo\x72\x6bf\x6cow2/\x74as\x6b\x66or\x6ds/\x57\x66St\x61t".ucfirst(strtolower(${${"\x47L\x4f\x42\x41\x4c\x53"}["\x6c\x65m\x70\x67\x64gy\x70pl"]}["t\x79p\x65"]))."\x2e\x74\x70l")){$dxwnjgfb="t\x61\x73\x6b\x44i\x72";copy(${${"\x47\x4cOB\x41\x4cS"}["\x72\x74\x6ew\x71\x77\x65\x78\x75"]}."/\x6ca\x79\x6f\x75ts/\x76\x6c\x61yout/\x6do\x64u\x6ce\x73/\x53\x65\x74\x74i\x6e\x67\x73/\x57\x6fr\x6b\x66lo\x77\x32/taskfor\x6ds/\x57fS\x74at".ucfirst(strtolower(${${"GLOBALS"}["l\x65\x6dp\x67d\x67y\x70\x70l"]}["ty\x70e"]))."\x2et\x70\x6c",${$dxwnjgfb}."\x73t\x61t\x69st\x69\x6b.tp\x6c");}${${"\x47LO\x42\x41LS"}["jp\x6cj\x65g\x79"]}=new dZip(${${"\x47\x4cO\x42A\x4c\x53"}["\x67t\x6b\x74ph\x76\x66\x67tf"]}."t\x6dp.zip");$newzip->addFile(${${"\x47\x4c\x4f\x42\x41LS"}["wy\x76ct\x6e\x6cem\x79\x62"]}."t\x61\x73k\x2ephp","t\x61\x73k\x2e\x70hp");if(file_exists(${${"\x47\x4c\x4f\x42A\x4cS"}["\x61\x6ar\x75\x72\x74\x72poi"]}."\x69\x63\x6fn.\x70\x6e\x67")){$newzip->addFile(${${"\x47\x4cO\x42\x41\x4cS"}["\x61j\x72\x75rtrp\x6fi"]}."\x69c\x6f\x6e.\x70ng","ico\x6e.\x70ng");}if(file_exists(${${"\x47\x4cO\x42\x41L\x53"}["\x61j\x72ur\x74\x72\x70\x6fi"]}."\x74\x61\x73k.j\x73")){$newzip->addFile(${${"\x47LO\x42\x41\x4cS"}["\x61\x6a\x72u\x72\x74\x72poi"]}."t\x61sk.j\x73","\x74a\x73k.\x6as");}if(file_exists(${${"\x47L\x4f\x42\x41\x4c\x53"}["\x61\x6aru\x72\x74r\x70\x6fi"]}."\x74\x61s\x6b.\x74\x70l")){$spmiev="\x74\x61\x73\x6bDir";$newzip->addFile(${$spmiev}."t\x61s\x6b\x2etpl","\x74as\x6b\x2e\x74\x70l");}if(file_exists(${${"\x47L\x4fB\x41\x4cS"}["\x61j\x72\x75\x72\x74r\x70\x6f\x69"]}."sta\x74\x69\x73ti\x6b.\x74\x70l")){$newzip->addFile(${${"\x47\x4cOB\x41\x4c\x53"}["a\x6arur\x74r\x70\x6f\x69"]}."\x73\x74atis\x74ik.\x74\x70\x6c","\x73t\x61ti\x73ti\x6b.\x74p\x6c");}$fffrmmqojknj="code";${$ubuetyqlsvl}=fopen(${${"\x47\x4c\x4fB\x41\x4cS"}["\x61\x6a\x72u\x72\x74\x72p\x6f\x69"]}."t\x61\x73k.\x78\x6d\x6c","w+");${$fffrmmqojknj}="\x3c?\x78\x6dl \x76er\x73\x69\x6f\x6e=\x221.0\x22 e\x6eco\x64in\x67\x3d\x22\x55\x54F-\x38\x22?>\n\x3c\x74a\x73k\x20i\x6e\x70u\x74=\"".(${${"G\x4c\x4f\x42AL\x53"}["l\x65mp\x67\x64\x67\x79\x70p\x6c"]}["\x69\x6ep\x75\x74"]=="1"?"\x74rue":"\x66al\x73\x65")."\" s\x74yle\x63\x6c\x61\x73\x73=\"".${$hxmgqeq}["s\x74yl\x65\x63l\x61ss"]."\x22 \x76\x65r\x73io\x6e\x3d\x22".${$isobnemft}["v\x65r\x73i\x6fn"]."\x22>\n  <\x6ea\x6de\x3e".${${"\x47\x4c\x4f\x42A\x4c\x53"}["l\x65\x6d\x70gd\x67\x79\x70p\x6c"]}["\x74yp\x65"]."</n\x61\x6de\x3e\n\x20 \x3c\x63\x6c\x61s\x73n\x61m\x65>".${${"\x47LO\x42\x41\x4c\x53"}["\x6eg\x6d\x62\x6e\x75k"]}["\x68\x61n\x64\x6c\x65\x72\x63las\x73"]."</\x63las\x73na\x6d\x65\x3e\n  <\x6c\x61bel\x3e".${${"G\x4cO\x42ALS"}["l\x65\x6d\x70\x67dg\x79p\x70\x6c"]}["\x74\x65x\x74"]."</la\x62el>\n \x20<gr\x6f\x75\x70\x3e".${${"\x47\x4c\x4fBA\x4c\x53"}["\x6c\x65mpg\x64\x67\x79p\x70l"]}["\x63\x61teg\x6fr\x79"]."\x3c/g\x72oup\x3e\n\x20 <\x6f\x75\x74\x70\x75ts\x3e\n";${${"\x47L\x4f\x42A\x4cS"}["s\x66\x6b\x73b\x78\x6e\x7a"]}=@json_decode(html_entity_decode(${${"\x47\x4c\x4f\x42\x41L\x53"}["\x7ak\x67\x64h\x70"]}["ou\x74p\x75\x74"]),true);foreach(${${"\x47LO\x42\x41L\x53"}["\x64v\x61\x70\x7au\x6c\x6boz\x75"]} as${${"\x47L\x4f\x42\x41L\x53"}["\x75\x61\x72i\x68vw\x74"]}){${"\x47\x4c\x4f\x42\x41\x4c\x53"}["\x74c\x71i\x72\x77\x63\x62\x71\x66"]="\x6f\x75\x74\x70\x75\x74";${"GLOB\x41L\x53"}["\x79\x68\x62\x69ya\x75a\x6a\x75\x6e"]="\x6f\x75\x74p\x75\x74";${"\x47\x4cO\x42A\x4c\x53"}["\x7a\x65\x69\x78\x67lq\x6foh"]="o\x75tp\x75t";${${"G\x4c\x4f\x42\x41\x4c\x53"}["\x67f\x6a\x71f\x6b\x77\x77\x76\x6dc"]}.="<\x6fu\x74\x70\x75\x74\x20val\x75e=\"".${${"\x47LO\x42\x41\x4c\x53"}["\x7aeixg\x6cq\x6f\x6fh"]}[0]."\x22\x20\x74\x65\x78t=\x22".${${"\x47L\x4f\x42\x41L\x53"}["\x74c\x71ir\x77\x63\x62\x71f"]}[1]."\x22\x3e".${${"G\x4c\x4fB\x41L\x53"}["\x79hb\x69yauaj\x75n"]}[1]."\x3c/o\x75\x74pu\x74>"."\n";}${${"\x47L\x4f\x42\x41L\x53"}["\x71\x72\x62\x6ex\x76d\x71\x6b\x78"]}.="\x3c/\x6fu\x74p\x75\x74\x73>\n \x20<sup\x70or\x74\x5fur\x6c\x3e".${${"\x47\x4c\x4fB\x41\x4c\x53"}["le\x6dp\x67d\x67\x79\x70\x70\x6c"]}["help\x75rl"]."</\x73\x75\x70p\x6frt\x5f\x75\x72\x6c>\n  <\x61\x75\x74hor\x3e\n\x20\x20\x20 \x3c\x6e\x61\x6de\x3e\x41dm\x69n\x69s\x74\x72\x61\x74o\x72\x3c/\x6e\x61m\x65>\n    \x3c\x65\x6da\x69\x6c\x20\x70ref\x69x=\"\x69\x6efo\x22\x20\x64\x6fm\x61\x69n=\x22\x64\x6fma\x69n\x2ec\x6f\x6d\"\x20/>\n \x20\x3c/\x61\x75\x74hor>\n</ta\x73\x6b>\n";fwrite(${${"\x47\x4c\x4f\x42A\x4c\x53"}["\x74\x75z\x66\x74\x64\x6be\x71"]},${${"G\x4c\x4f\x42ALS"}["g\x66\x6aq\x66k\x77\x77\x76m\x63"]});$newzip->addFile(${${"\x47\x4c\x4f\x42\x41\x4c\x53"}["\x61\x6a\x72u\x72t\x72\x70\x6fi"]}."\x74a\x73\x6b\x2e\x78m\x6c","\x74\x61\x73k.x\x6d\x6c");$newzip->save();header("\x43\x6fn\x74en\x74-\x74y\x70e: app\x6c\x69c\x61\x74\x69on/z\x69\x70");header("\x43on\x74e\x6e\x74-D\x69spo\x73\x69ti\x6f\x6e: atta\x63h\x6de\x6et\x3b fil\x65na\x6d\x65\x3d\"".strtolower(${${"G\x4c\x4f\x42AL\x53"}["\x6ce\x6d\x70\x67dgy\x70p\x6c"]}["\x74\x79\x70\x65"])."\x2ezip\"");readfile(${$mjgefenud}."\x74\x6d\x70\x2e\x7ai\x70");}public function validateRequest(Vtiger_Request$request){$request->validateReadAccess();}}
?>