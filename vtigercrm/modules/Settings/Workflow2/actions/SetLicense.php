<?php /*
This File was developed by Stefan Warnat <vtiger@stefanwarnat.de>

It belongs to the Workflow Designer and must not be distrubuted without the complete extension
*/
${"\x47\x4c\x4f\x42A\x4c\x53"}["\x71\x63\x71d\x6c\x61c\x74b\x7ap"]="r\x65\x73\x70\x6f\x6e\x73\x65";${"G\x4c\x4fB\x41LS"}["t\x64\x64\x73\x70r\x6bt\x6b"]="\x73q\x6c";${"\x47\x4c\x4f\x42\x41L\x53"}["k\x73mqg\x6c\x73"]="\x61\x64\x62";${"\x47L\x4fBA\x4cS"}["o\x72s\x66d\x77hbz"]="\x47\x65\x6e\x4bey";${"G\x4c\x4fB\x41\x4c\x53"}["\x61z\x69\x64ga\x72\x73\x62\x79"]="\x72\x6f\x6f\x74_\x64\x69r\x65\x63\x74\x6f\x72y";global$root_directory;require_once(${${"\x47\x4c\x4f\x42\x41\x4cS"}["\x61\x7ai\x64ga\x72s\x62y"]}."/\x6dod\x75\x6ce\x73/W\x6fr\x6bfl\x6fw\x32/\x61\x75t\x6f\x6c\x6fa\x64\x5f\x77\x66.\x70\x68p");class Settings_Workflow2_SetLicense_Action extends Settings_Vtiger_Basic_Action{public function process(Vtiger_Request$request){$nbmdinwllij="\x6d\x6f\x64\x75le\x4d\x6f\x64\x65\x6c";sw_autoload_register("SW\x45xte\x6e\x73\x69\x6fn","~/\x6do\x64\x75les/\x57\x6f\x72\x6bflo\x772/l\x69\x62s");${"G\x4cOB\x41\x4c\x53"}["l\x62r\x76\x63\x67\x6cw\x74"]="\x73\x71\x6c";${$nbmdinwllij}=Vtiger_Module_Model::getInstance("\x57or\x6bflo\x77\x32");${"\x47\x4c\x4f\x42\x41LS"}["\x72\x7a\x76t\x68\x74\x70\x71"]="r\x65\x70\x6fs";${${"G\x4c\x4f\x42A\x4c\x53"}["o\x72\x73f\x64wh\x62\x7a"]}=new SWExtension_GenKey("\x57o\x72\x6b\x66\x6co\x772",$moduleModel->version);$vvirsh="\x72\x65\x70\x6f";$fievvrk="r\x65\x70\x6fs";${${"GLOB\x41\x4c\x53"}["ks\x6d\x71\x67\x6c\x73"]}=PearDatabase::getInstance();${${"GLO\x42\x41LS"}["l\x62\x72\x76\x63\x67l\x77\x74"]}="UPD\x41TE vtig\x65r_w\x66_repos\x69to\x72\x79\x20SE\x54\x20\x6c\x69c\x65\x6es\x65Co\x64\x65\x20\x3d\x20\x22".md5($request->get("l\x69ce\x6es\x65"))."\x22 WHE\x52\x45 url \x4c\x49KE \"\x25re\x70os\x69t\x6fr\x79\x2e\x73tefa\x6e\x77\x61rna\x74.\x64e%\x22";$adb->query(${${"GL\x4f\x42\x41L\x53"}["td\x64\x73pr\x6b\x74\x6b"]});${${"G\x4c\x4fB\x41\x4c\x53"}["rz\x76t\x68t\x70q"]}=\Workflow\Repository::getAll(true);foreach(${$fievvrk} as${$vvirsh}){try{$repo->installAll(\Workflow\Repository::INSTALL_ALL);}catch(Exception$exp){};}${${"\x47\x4cO\x42\x41\x4cS"}["\x71\x63q\x64\x6c\x61c\x74\x62\x7ap"]}=new Vtiger_Response();try{$GenKey->removeLicense();$GenKey->g7cd354a00dadcd8c4600f080755860496d0c03d5($request->get("\x6c\x69c\x65nse"),array(__FILE__,Vtiger_Loader::resolveNameToPath("m\x6f\x64ule\x73.S\x65\x74ti\x6egs\x2e\x57or\x6bfl\x6fw2\x2e\x76ie\x77\x73.Conf\x69g")));$response->setResult(array("\x73\x75c\x63\x65s\x73"=>true));}catch(Exception$exp){$response->setResult(array("\x73uccess"=>false,"erro\x72"=>$exp->getMessage()));}$response->emit();}}
?>