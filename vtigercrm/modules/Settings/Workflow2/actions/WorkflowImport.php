<?php /*
This File was developed by Stefan Warnat <vtiger@stefanwarnat.de>

It belongs to the Workflow Designer and must not be distrubuted without the complete extension
*/
${"\x47L\x4fBA\x4c\x53"}["pxj\x79h\x66\x6cx\x73\x66\x6a"]="\x70\x61\x72\x61met\x65\x72";${"\x47\x4c\x4f\x42A\x4cS"}["r\x6d\x73x\x68\x66\x67g"]="\x64a\x74\x61";${"\x47\x4c\x4fB\x41L\x53"}["g\x6c\x77\x67kwf\x77\x66\x63"]="c\x6fn\x74\x65\x6et";global$root_directory;${"G\x4c\x4f\x42A\x4c\x53"}["\x6e\x66\x67\x63\x6b\x67d\x77z\x69ra"]="\x72oo\x74_\x64i\x72ector\x79";require_once(${${"\x47\x4c\x4f\x42\x41\x4c\x53"}["nf\x67c\x6bg\x64\x77\x7a\x69\x72\x61"]}."/m\x6fdu\x6ce\x73/Wo\x72kfl\x6fw2/\x61ut\x6fl\x6f\x61\x64\x5f\x77\x66.ph\x70");class Settings_Workflow2_WorkflowImport_Action extends Settings_Vtiger_Basic_Action{public function process(Vtiger_Request$request){${"G\x4c\x4f\x42A\x4cS"}["\x78\x79o\x7a\x79\x6c\x6b\x66"]="\x63o\x6e\x74\x65\x6e\x74";$nxodnvmcstko="\x70ar\x61\x6d\x65\x74\x65\x72";global$vtiger_current_version;$kdgzlwtdszp="\x63\x6f\x6et\x65\x6et";${"GL\x4f\x42\x41LS"}["c\x69\x7a\x6b\x67\x77\x61a\x64\x62\x63"]="\x61d\x62";${${"\x47LOB\x41L\x53"}["\x63\x69\x7a\x6b\x67w\x61\x61\x64bc"]}=PearDatabase::getInstance();${$nxodnvmcstko}=$request->getAll();${${"G\x4c\x4fB\x41\x4c\x53"}["x\x79o\x7a\x79\x6c\x6b\x66"]}=file($_FILES["\x69m\x70or\x74"]["tmp_\x6ea\x6de"]);if(${$kdgzlwtdszp}[1]==sha1(trim(${${"\x47\x4c\x4fBA\x4c\x53"}["g\x6cwgkw\x66\x77\x66\x63"]}[0]))){${"\x47\x4c\x4fB\x41L\x53"}["\x78t\x71\x61l\x72d\x67d\x6abv"]="\x70\x61\x72\x61\x6d\x65t\x65\x72";${${"G\x4cO\x42\x41\x4c\x53"}["r\x6d\x73\x78\x68\x66\x67\x67"]}=base64_decode(${${"\x47\x4c\x4fB\x41\x4c\x53"}["g\x6cwg\x6bw\x66\x77\x66\x63"]}[0]);if(!empty(${${"G\x4cO\x42A\x4cS"}["\x78\x74\x71al\x72d\x67\x64\x6a\x62v"]}["\x70\x61sswor\x64"])){${"GL\x4f\x42\x41\x4c\x53"}["\x6f\x76\x63\x69\x68f\x6eu\x66\x65\x67f"]="\x63\x6fnt\x65\x6et";${${"\x47\x4c\x4f\x42ALS"}["\x6f\x76\x63\x69\x68fnufe\x67\x66"]}=@unserialize(${${"\x47\x4cO\x42\x41\x4c\x53"}["\x72m\x73\x78h\x66\x67g"]});}else{${"\x47\x4c\x4f\x42A\x4c\x53"}["\x67z\x65i\x66nk\x6cvdhf"]="\x64\x61\x74\x61";$xewoty="\x63\x6f\x6e\x74e\x6et";${$xewoty}=@unserialize(gzuncompress(${${"\x47LO\x42\x41L\x53"}["g\x7a\x65\x69\x66\x6e\x6b\x6c\x76\x64h\x66"]}));}if(${${"\x47\x4c\x4f\x42AL\x53"}["\x67l\x77\x67\x6bwf\x77\x66\x63"]}==false){die(json_encode(array("re\x73\x75lt"=>"\x65\x72\x72\x6f\x72","m\x65\x73s\x61ge"=>"Sec\x75\x72it\x79\x20\x45xcepti\x6f\x6e\x21 P\x72\x6fb\x61\x62ly \x6e\x6f Wo\x72\x6b\x66\x6cow\x20Fi\x6c\x65".(!empty(${${"G\x4c\x4f\x42ALS"}["\x70\x78\x6ayhf\x6c\x78s\x66\x6a"]}["\x70\x61s\x73\x77o\x72d"])?"\x20\x6f\x72\x20\x57R\x4f\x4e\x47 pa\x73sw\x6f\x72\x64!":""))));}else{try{${"GL\x4f\x42AL\x53"}["\x71\x61\x6c\x67\x6a\x78\x6a\x71j\x75\x76"]="co\x6et\x65nt";${"\x47\x4c\x4f\x42\x41L\x53"}["\x6fb\x74\x74\x77q\x7a\x72"]="pa\x72a\x6d\x65t\x65r";\Workflow\Main::import($request->get("wo\x72k\x66\x6cow_na\x6d\x65"),${${"\x47L\x4f\x42\x41L\x53"}["\x71\x61l\x67\x6axj\x71j\x75\x76"]},(!empty(${${"\x47\x4c\x4fBA\x4c\x53"}["\x6fb\x74\x74w\x71\x7a\x72"]}["w\x6fr\x6b\x66\x6co\x77_\x6d\x6fdu\x6ce"])?${${"\x47\x4cOB\x41LS"}["pxjy\x68\x66l\x78\x73\x66j"]}["w\x6f\x72kflow_mo\x64ule"]:false));}catch(Exception$exp){die(json_encode(array("r\x65\x73\x75\x6ct"=>"\x65rror","m\x65s\x73a\x67\x65"=>$exp->getMessage())));}die(json_encode(array("r\x65su\x6c\x74"=>"o\x6b")));}}else{die(json_encode(array("\x72e\x73\x75\x6ct"=>"error","\x6d\x65\x73\x73a\x67e"=>"\x53e\x63\x75rit\x79 \x45\x78ce\x70t\x69on!\x20\x50robably \x6eo\x20W\x6f\x72kfl\x6f\x77\x20Fil\x65")));}}}
?>