<?php /*
This File was developed by Stefan Warnat <vtiger@stefanwarnat.de>

It belongs to the Workflow Designer and must not be distrubuted without the complete extension
*/
${"\x47\x4cOBA\x4c\x53"}["\x72\x79\x77kv\x79\x67\x73"]="res\x75lt";${"G\x4cO\x42AL\x53"}["\x65gj\x6b\x6bw\x71\x75\x75"]="\x70r\x6fdu\x63ts";${"GLO\x42A\x4c\x53"}["\x76\x6f\x63\x78jbd\x71\x6a\x6c"]="re\x74ur\x6e";use\Workflow\VTEntity;use\Workflow\VTTemplate;global$root_directory;${"\x47\x4c\x4f\x42A\x4cS"}["g\x63\x75\x79y\x6d\x77\x75\x62\x63i"]="r\x6fo\x74\x5f\x64i\x72ect\x6fr\x79";require_once(${${"\x47LO\x42A\x4cS"}["g\x63u\x79\x79\x6dwubc\x69"]}."/\x6d\x6fd\x75\x6ces/W\x6f\x72k\x66low\x32/a\x75to\x6c\x6fad_w\x66\x2eph\x70");class Workflow2_ProductChooser_Action extends Vtiger_Action_Controller{function checkPermission(Vtiger_Request$request){return true;}public function process(Vtiger_Request$request){${"G\x4cO\x42\x41\x4c\x53"}["\x70\x77q\x63m\x65p\x73\x67y"]="\x61d\x62";$adwshrlpqh="p\x72\x6fdu\x63\x74\x73";${${"G\x4c\x4f\x42\x41\x4c\x53"}["\x70\x77\x71c\x6d\x65\x70\x73gy"]}=\PearDatabase::getInstance();${$adwshrlpqh}=Products_Record_Model::getSearchResult($request->get("que\x72\x79"),"\x50\x72oducts");$acypysvneb="s\x65r\x76\x69\x63\x65\x73";${$acypysvneb}=Services_Record_Model::getSearchResult($request->get("\x71ue\x72\x79"),"S\x65rv\x69c\x65\x73");${${"\x47\x4c\x4f\x42\x41\x4cS"}["\x76\x6fcxj\x62\x64\x71j\x6c"]}=array();${"\x47L\x4f\x42\x41L\x53"}["hhfjmu\x64\x6d\x65\x68\x62v"]="s\x65r\x76\x69c\x65\x73";foreach(${${"GLO\x42\x41L\x53"}["\x65\x67\x6a\x6bk\x77q\x75\x75"]}["Prod\x75ct\x73"]as${${"GLOB\x41\x4cS"}["ryw\x6bv\x79gs"]}){$lwwocgvf="\x72\x65t\x75\x72\x6e";${$lwwocgvf}["res\x75\x6c\x74s"][]=array("\x67roup"=>"P\x72od\x75c\x74s","t\x65\x78\x74"=>$result->get("\x6ca\x62e\x6c"),"i\x64"=>$result->getId());}foreach(${${"GL\x4f\x42\x41L\x53"}["\x68\x68fjm\x75\x64\x6d\x65hb\x76"]}["\x53er\x76ice\x73"]as${${"G\x4c\x4f\x42\x41\x4cS"}["\x72\x79\x77kv\x79\x67\x73"]}){${${"\x47\x4c\x4fBA\x4cS"}["\x76\x6f\x63\x78j\x62\x64q\x6a\x6c"]}["re\x73ults"][]=array("\x67r\x6f\x75p"=>"S\x65\x72v\x69ces","\x74ext"=>$result->get("\x6c\x61\x62\x65\x6c"),"i\x64"=>$result->getId());}echo json_encode(${${"GL\x4f\x42\x41\x4cS"}["voc\x78jb\x64\x71j\x6c"]});exit();}public function validateRequest(Vtiger_Request$request){$request->validateReadAccess();}}
?>