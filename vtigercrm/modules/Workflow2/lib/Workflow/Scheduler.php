<?php /*
This File was developed by Stefan Warnat <vtiger@stefanwarnat.de>

It belongs to the Workflow Designer and must not be distrubuted without the complete extension
*/
namespace Workflow;${"G\x4cO\x42\x41\x4cS"}["\x76c\x71\x79\x70\x62\x79\x70s"]="\x72e\x74\x75\x72n\x73";${"\x47\x4c\x4f\x42A\x4cS"}["\x6en\x65\x65u\x7a\x68"]="r\x6f\x77";${"\x47L\x4f\x42\x41L\x53"}["fg\x6fnp\x63\x67\x66\x61o"]="\x77\x6f\x72\x6b\x66\x6cow";${"\x47\x4cOB\x41\x4c\x53"}["ng\x78\x78\x65\x6e\x67l\x67\x64\x72"]="\x73\x63\x68\x65dul\x65\x72";${"\x47\x4c\x4f\x42A\x4c\x53"}["\x75\x6e\x73\x7a\x7a\x67\x68kf\x6f\x74"]="\x72\x65sul\x74";${"G\x4cO\x42\x41\x4c\x53"}["\x70qfr\x6b\x64\x6a"]="\x6fl\x64";${"\x47L\x4f\x42A\x4c\x53"}["mi\x6bm\x66\x68\x6e\x70"]="r\x65\x74\x75rn";${"GL\x4fB\x41\x4c\x53"}["\x71d\x77\x6e\x68\x6d\x72\x66\x73"]="d\x61\x74\x61";${"G\x4c\x4f\x42\x41\x4c\x53"}["w\x66\x6bsc\x75epjm\x66"]="\x73\x71\x6c";${"\x47L\x4fB\x41L\x53"}["\x63\x74\x61o\x79l\x6d"]="\x61\x64\x62";${"G\x4c\x4fBA\x4c\x53"}["\x69\x66\x75\x65\x6b\x6blg"]="\x73\x63he\x64\x75\x6c\x65I\x64";class Scheduler{private$_scheduleId=null;private$_data=null;public function __construct($scheduleId){$this->_scheduleId=${${"\x47\x4c\x4fB\x41\x4c\x53"}["\x69\x66\x75e\x6b\x6b\x6cg"]};}public function getData(){$hopnrgg="\x73q\x6c";${"\x47\x4c\x4f\x42\x41\x4cS"}["\x71\x69\x71\x6dhy\x71\x75"]="\x64ata";if(null!==$this->_data){return$this->_data;}${${"G\x4c\x4f\x42\x41\x4c\x53"}["\x63t\x61\x6f\x79\x6cm"]}=\PearDatabase::getInstance();${$hopnrgg}="S\x45\x4cE\x43\x54 * \x46\x52\x4fM\x20vti\x67\x65r_w\x66_s\x63\x68\x65\x64u\x6cer\x20W\x48ERE \x69\x64 = ".$this->_scheduleId;${${"\x47\x4c\x4fBA\x4c\x53"}["qiqmhy\x71\x75"]}=$adb->query(${${"\x47\x4c\x4f\x42A\x4c\x53"}["\x77\x66\x6b\x73\x63\x75e\x70j\x6d\x66"]});$this->_data=$adb->fetchByAssoc(${${"G\x4c\x4f\x42AL\x53"}["q\x64\x77\x6e\x68m\x72\x66\x73"]});return$this->_data;}public function setNextDate(){$nyuarh="ad\x62";${$nyuarh}=\PearDatabase::getInstance();${${"\x47\x4c\x4f\x42\x41\x4cS"}["w\x66\x6b\x73\x63\x75\x65\x70\x6a\x6df"]}="\x55PDAT\x45\x20\x76\x74i\x67\x65r_\x77f_sc\x68edu\x6ce\x72 \x53E\x54 \x6eex\x74_\x65\x78e\x63ution =\x20'".$this->getNextDate()."\x27\x20W\x48\x45R\x45 \x69\x64\x20\x3d\x20".$this->_scheduleId;$adb->query(${${"\x47L\x4f\x42A\x4c\x53"}["w\x66\x6b\x73\x63u\x65\x70\x6am\x66"]});}public function getNextDate(){$vpohqgmrp="da\x74\x61";$whkkjpdvu="\x64\x61\x74a";sw_autoload_register("Cro\x6e","\x7e/\x6dod\x75\x6ce\x73/\x57\x6f\x72kf\x6c\x6f\x772/l\x69\x62");${"\x47\x4cO\x42AL\x53"}["\x70\x62ph\x63\x6ff"]="r\x65\x74u\x72\x6e";${"\x47LO\x42A\x4cS"}["gd\x62\x69\x77\x65\x6ch\x68\x65\x63"]="\x63\x72\x6fn";$bukyubgowtym="\x64\x61\x74\x61";${"GL\x4f\x42A\x4c\x53"}["ws\x7a\x68\x6f\x63"]="\x64\x61\x74\x61";${"GL\x4f\x42AL\x53"}["\x79\x69\x65\x67\x6c\x6ciwiv"]="\x6f\x6c\x64";${${"\x47\x4c\x4f\x42A\x4cS"}["\x71\x64\x77nhm\x72\x66\x73"]}=$this->getData();${${"\x47\x4c\x4f\x42\x41L\x53"}["g\x64\x62\x69\x77e\x6c\x68h\x65c"]}=\Cron\CronExpression::factory(${$whkkjpdvu}["\x6di\x6e\x75\x74\x65"]." ".${$bukyubgowtym}["\x68our"]." ".${${"\x47\x4c\x4f\x42\x41\x4c\x53"}["q\x64\x77nh\x6dr\x66\x73"]}["\x64\x6fm"]."\x20".${$vpohqgmrp}["\x6donth"]."\x20".${${"\x47\x4cO\x42A\x4c\x53"}["\x71\x64\x77nh\x6drf\x73"]}["\x64o\x77"]."\x20".${${"\x47L\x4fBAL\x53"}["w\x73\x7a\x68\x6f\x63"]}["y\x65a\x72"]);${${"\x47LO\x42\x41L\x53"}["\x79\x69eglli\x77\x69\x76"]}=date_default_timezone_set("UT\x43");${${"\x47L\x4f\x42A\x4c\x53"}["\x6d\x69\x6b\x6d\x66\x68\x6e\x70"]}=$cron->getNextRunDate()->format("Y-\x6d-\x64 H:\x69:s");date_default_timezone_set(${${"\x47\x4c\x4f\x42\x41\x4cS"}["p\x71frk\x64\x6a"]});return${${"GL\x4f\x42A\x4c\x53"}["\x70b\x70h\x63\x6ff"]};}public static function execute(){${"G\x4c\x4f\x42A\x4c\x53"}["\x71m\x63\x75\x70\x6am"]="\x73\x71\x6c";${"G\x4c\x4f\x42AL\x53"}["ins\x72l\x6d\x72"]="\x61\x64b";$ayombhb="\x72\x65\x74\x75\x72ns";$jiwiyiluvlud="\x72\x65s\x75lt";${${"\x47\x4c\x4f\x42A\x4c\x53"}["\x69n\x73\x72\x6cmr"]}=\PearDatabase::getInstance();$leirdfmnrkup="\x73q\x6c";${"GLO\x42\x41\x4c\x53"}["\x63\x6bcy\x6b\x65\x6ci\x6eyu"]="\x72o\x77";${${"G\x4c\x4f\x42\x41L\x53"}["q\x6d\x63upj\x6d"]}="SEL\x45\x43\x54\x20\x76ti\x67e\x72_wf_\x73\x63\x68\x65\x64\x75\x6c\x65r\x2e* \x46RO\x4d\x20vti\x67\x65r_w\x66\x5f\x73\x63hedu\x6ce\x72\n\x20\x20  \x20      \x20 \x20 \x20 \x20 \x20I\x4e\x4eE\x52\x20J\x4fI\x4e\x20v\x74iger_wf\x5f\x73\x65ttings\x20\x4fN (\x76\x74\x69\x67\x65r_\x77f\x5f\x73e\x74\x74\x69\x6e\x67s.\x69\x64 = vt\x69\x67\x65r_w\x66\x5f\x73cheduler.w\x6f\x72kf\x6co\x77_id\x20\x41\x4e\x44\x20\x76tiger\x5fwf\x5f\x73\x65\x74\x74ings\x2e\x61\x63\x74\x69v\x65\x20\x3d 1)\n      \x20\x20\x20\x20\x20    \x20\x57\x48E\x52\x45 \x6e\x65xt_ex\x65c\x75\x74i\x6f\x6e \x3c\x20\x55T\x43\x5f\x54\x69\x6d\x65\x73t\x61\x6dp()\x20A\x4eD \x76ti\x67\x65r_\x77f\x5fsched\x75\x6c\x65\x72.acti\x76e\x20=\x201";${$jiwiyiluvlud}=$adb->query(${$leirdfmnrkup});if($adb->num_rows(${${"\x47\x4c\x4f\x42A\x4c\x53"}["\x75\x6es\x7az\x67h\x6bfot"]})==0){return false;}${$ayombhb}=array();while(${${"\x47\x4cO\x42\x41\x4cS"}["ck\x63yke\x6c\x69n\x79\x75"]}=$adb->fetchByAssoc(${${"\x47LOB\x41\x4c\x53"}["un\x73\x7a\x7aghk\x66\x6f\x74"]})){${"\x47\x4c\x4fB\x41L\x53"}["\x63\x64\x6b\x76n\x66baqy\x6c\x65"]="\x72ow";${${"\x47\x4c\x4f\x42A\x4cS"}["\x6eg\x78x\x65\x6egl\x67\x64\x72"]}=new self(${${"\x47LOB\x41\x4cS"}["cdk\x76\x6e\x66b\x61\x71\x79\x6ce"]}["i\x64"]);$scheduler->setNextDate();${${"\x47L\x4f\x42\x41\x4c\x53"}["\x66\x67\x6f\x6e\x70c\x67\x66\x61\x6f"]}=new Main(${${"G\x4cO\x42\x41L\x53"}["n\x6e\x65\x65\x75\x7ah"]}["\x77or\x6b\x66\x6cow_\x69\x64"],VTEntity::getDummy(),VTEntity::getUser());$workflow->start();}return${${"\x47\x4c\x4f\x42\x41\x4c\x53"}["v\x63\x71\x79\x70by\x70\x73"]};}}
?>