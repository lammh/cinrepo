<?php /*
This File was developed by Stefan Warnat <vtiger@stefanwarnat.de>

It belongs to the Workflow Designer and must not be distrubuted without the complete extension
*/
namespace Workflow\Filehandler;${"\x47L\x4fB\x41L\x53"}["c\x74\x63fg\x69rx\x6d\x6f\x6a"]="\x72\x65\x63\x6f\x72d";${"G\x4c\x4fBA\x4c\x53"}["\x6bb\x78\x79s\x6e\x64"]="h\x61\x6e\x64le\x72";${"\x47L\x4f\x42A\x4c\x53"}["\x72\x70i\x66l\x6e\x79\x69\x6e\x69"]="l\x69\x6ee\x63o\x75\x6e\x74";${"GL\x4f\x42\x41\x4c\x53"}["\x66\x7a\x6ci\x68\x71\x66"]="\x72\x65t\x75\x72\x6e";${"\x47\x4cO\x42\x41\x4c\x53"}["\x61t\x6fgzq\x78hwk"]="\x63\x68eck";${"GLO\x42\x41L\x53"}["p\x69l\x78\x78mp\x6ed"]="\x69";class Csv extends Base{protected$filehandler=null;protected$_firstSkip=false;public function init(){if(null!==$this->filehandler){return;}$this->filehandler=new\SplFileObject($this->filepath);$this->filehandler->setCsvControl($this->params["\x64e\x6c\x69mi\x74er"]);$this->filehandler->setFlags(\SplFileObject::READ_CSV);if($this->_firstSkip==false){$wnokdjmp="\x63\x68ec\x6b";$this->_firstSkip=true;if($this->params["\x73\x6b\x69\x70f\x69r\x73\x74"]){$this->position+=1;header("SKIPFI\x52ST:\x31");}${$wnokdjmp}=$this->position;if($this->position>0){$jmpjourhy="\x69";${"\x47\x4c\x4f\x42\x41L\x53"}["\x68yuxzu\x78n"]="\x69";${"G\x4c\x4f\x42\x41L\x53"}["b\x64\x66yy\x75t\x68\x68b"]="\x63h\x65\x63\x6b";$this->filehandler->seek(0);for(${${"\x47LO\x42A\x4cS"}["\x70\x69\x6c\x78\x78m\x70\x6e\x64"]}=0;${${"\x47\x4c\x4f\x42A\x4c\x53"}["\x68\x79\x75\x78\x7au\x78\x6e"]}<$this->position;${$jmpjourhy}++){${${"\x47LO\x42\x41\x4c\x53"}["\x61\x74\x6f\x67\x7a\x71x\x68\x77\x6b"]}.="\x2e";$this->getNextRow(true);}header("Ch\x65\x63k:".${${"G\x4cOB\x41\x4c\x53"}["b\x64\x66yy\x75\x74\x68\x68\x62"]});}}}public function getNextRow($skip=false){${"\x47L\x4f\x42\x41\x4cS"}["u\x71\x70\x64\x67\x75q\x70g\x7a"]="s\x6b\x69p";if(!${${"\x47\x4c\x4fBAL\x53"}["\x75\x71p\x64gu\x71p\x67\x7a"]})$this->init();if($this->filehandler->eof()){return false;}${"G\x4c\x4f\x42\x41\x4cS"}["w\x68b\x61\x61xx\x6bt\x79"]="\x73\x6b\x69\x70";${${"\x47\x4c\x4f\x42\x41\x4c\x53"}["\x66\x7a\x6c\x69\x68\x71f"]}=$this->filehandler->fgetcsv();header("HEA\x44".rand(10000,99999).":".(${${"\x47L\x4f\x42\x41\x4c\x53"}["wh\x62\x61\x61\x78\x78\x6bt\x79"]}?"\x73\x6bi\x70":"").${${"\x47L\x4f\x42AL\x53"}["\x66\x7a\x6cihq\x66"]}[1]);return${${"G\x4c\x4f\x42\x41LS"}["f\x7a\x6c\x69\x68\x71f"]};}public function resetPosition(){$this->init();$this->position=0;$this->filehandler->seek(0);}public function getTotalRows(){${"\x47\x4c\x4fB\x41\x4c\x53"}["\x6d\x6a\x6b\x77\x63\x76e\x62p\x63"]="\x6cine\x63o\x75n\x74";${${"\x47L\x4fBA\x4c\x53"}["\x72\x70\x69f\x6c\x6e\x79\x69\x6e\x69"]}=0;${${"G\x4c\x4f\x42A\x4cS"}["\x6b\x62x\x79\x73\x6e\x64"]}=new\SplFileObject($this->filepath);$handler->setCsvControl($this->params["\x64e\x6cim\x69\x74e\x72"]);$handler->setFlags(\SplFileObject::READ_CSV|\SplFileObject::SKIP_EMPTY|\SplFileObject::DROP_NEW_LINE|\SplFileObject::READ_AHEAD);while($handler->eof()!=true){${"\x47L\x4f\x42\x41\x4c\x53"}["i\x77c\x78\x6b\x72\x73p\x77"]="\x72eco\x72d";${${"\x47\x4cO\x42A\x4cS"}["\x63tc\x66g\x69\x72\x78\x6d\x6f\x6a"]}=$handler->fgetcsv();if(!empty(${${"G\x4cO\x42\x41LS"}["\x69\x77\x63\x78k\x72s\x70w"]})){$ydoahvyfb="\x6c\x69\x6e\x65\x63o\x75\x6e\x74";${$ydoahvyfb}++;}}unset(${${"\x47\x4c\x4fB\x41\x4c\x53"}["\x6b\x62\x78y\x73n\x64"]});return${${"\x47\x4cO\x42\x41\x4c\x53"}["\x6d\x6ak\x77\x63\x76\x65b\x70\x63"]};}}
?>