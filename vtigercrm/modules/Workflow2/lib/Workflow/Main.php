<?php /*
This File was developed by Stefan Warnat <vtiger@stefanwarnat.de>

It belongs to the Workflow Designer and must not be distrubuted without the complete extension
*/
namespace Workflow;${"\x47\x4c\x4f\x42A\x4c\x53"}["\x64n\x68\x68e\x76"]="\x6e\x65\x78\x74\x54\x61\x73\x6b";${"\x47LOBA\x4c\x53"}["f\x6b\x67\x6c\x67\x71g\x72\x6e\x76"]="\x6e\x65\x78\x74\x54\x61\x73\x6b\x73";${"G\x4cOB\x41\x4c\x53"}["p\x6bd\x6f\x70\x67v\x62\x77"]="r\x65\x74\x75\x72\x6e";${"\x47LO\x42A\x4c\x53"}["\x73\x6bv\x69\x70\x7a\x67\x6a"]="\x73t\x61rt";${"G\x4c\x4fBALS"}["\x61x\x65i\x64\x71\x72\x6e\x70"]="\x70re\x76Ta\x73\x6b";${"\x47\x4cO\x42\x41\x4cS"}["\x71y\x68c\x66v\x6d"]="\x73\x74a\x74B\x6co\x62";${"\x47\x4c\x4f\x42\x41L\x53"}["rk\x69kz\x63p\x6em"]="\x73\x74\x61t\x44a\x74\x61";${"\x47\x4cOBALS"}["\x63rlz\x64xn\x72\x75"]="\x6c\x61\x73t\x42l\x6fc\x6b";${"\x47\x4cOBALS"}["\x64x\x77gp\x6a\x62\x6chm\x73\x6a"]="c\x68eck\x65\x64";${"\x47\x4cOBA\x4c\x53"}["yi\x6c\x62hp\x77\x61\x73\x7a"]="\x63ond\x69\x74\x69\x6f\x6es";${"G\x4c\x4f\x42A\x4c\x53"}["\x6a\x66\x78\x70\x67y\x63usc"]="\x61\x64b";${"\x47LOBA\x4c\x53"}["\x77x\x71\x75k\x6dx\x79\x6f"]="c\x72m\x69\x64";${"\x47LO\x42AL\x53"}["\x61v\x74ypl\x78\x6a\x68\x71h"]="t\x69\x6d\x65sta\x6dp";${"\x47L\x4fBA\x4c\x53"}["\x72\x79usq\x6b\x6bl\x67"]="\x63h\x65\x63\x6b\x4d\x6fd\x65";${"G\x4c\x4fB\x41LS"}["\x78v\x6cj\x6c\x78g\x76\x63\x6dv"]="\x74\x61\x73\x6b";${"\x47L\x4fBA\x4c\x53"}["h\x71\x74f\x72\x6d\x6e\x76\x72y"]="\x74\x61\x73\x6b\x73";${"GL\x4f\x42\x41\x4cS"}["\x64\x6f\x73u\x7a\x6f\x79\x7ag\x6d"]="\x64\x61t\x61\x4b\x65y";${"\x47\x4c\x4fB\x41L\x53"}["\x74\x66\x65\x66y\x78\x70ckg\x78"]="k\x65\x79_id";${"\x47\x4c\x4f\x42A\x4c\x53"}["\x72\x68\x77y\x6a\x64\x72\x6b\x70"]="\x61\x75\x74h";${"G\x4c\x4f\x42\x41\x4c\x53"}["p\x68o\x68\x63\x62\x66w"]="\x75\x73\x65r\x49\x44";${"\x47\x4cO\x42\x41\x4c\x53"}["\x72\x6dc\x68u\x70\x68\x6c\x77\x79i"]="\x63\x75\x72\x72e\x6e\x74_u\x73er";${"\x47\x4c\x4f\x42A\x4c\x53"}["\x69\x6d\x6c\x65\x67s"]="\x70\x61\x75s\x61\x62\x6c\x65";${"G\x4cOB\x41\x4c\x53"}["\x76l\x78\x69ew"]="me\x73\x73\x61\x67\x65";${"\x47\x4c\x4fB\x41\x4c\x53"}["\x6bwd\x62l\x74\x68\x67\x74"]="\x71\x75e\x75\x65\x5f\x69d";${"\x47\x4c\x4f\x42\x41\x4c\x53"}["\x6e\x71\x74\x6dpo\x6d\x65m\x6e\x64"]="\x72\x65\x71\x56\x61\x6c\x75e\x73";${"\x47\x4c\x4f\x42\x41\x4cS"}["\x6bxrd\x6a\x6c\x70"]="ro\x77";${"\x47\x4c\x4f\x42\x41\x4cS"}["\x6a\x65gt\x73\x75\x72yb\x6e"]="r\x65\x73\x75\x6c\x74";${"G\x4cO\x42\x41\x4c\x53"}["\x74\x70\x74i\x78\x72\x67f"]="\x64\x61t\x61";${"\x47\x4cO\x42A\x4cS"}["u\x70\x69w\x67e\x67oli"]="b\x6c\x6f\x63\x6b\x41l\x69\x61\x73";${"GL\x4f\x42\x41\x4cS"}["y\x64\x6f\x79\x64x\x77"]="\x6f\x62\x6a\x57\x6f\x72\x6bf\x6cow";${"\x47\x4c\x4fB\x41\x4c\x53"}["w\x69o\x77d\x62pqu\x70"]="\x62\x6c\x6fc\x6b\x41li\x61s\x4c\x69\x73\x74";${"\x47\x4cOB\x41L\x53"}["\x6c\x6be\x77\x68\x6czs"]="\x6f\x62\x6aHa\x6e\x64l\x65\x72";${"G\x4c\x4fB\x41\x4c\x53"}["\x6b\x71\x72f\x6a\x6bwl\x64m"]="\x62\x6c\x6f\x63\x6b";${"\x47L\x4fBALS"}["\x64u\x74\x63\x79\x74i\x63\x61nf"]="sq\x6c";${"\x47L\x4f\x42\x41\x4c\x53"}["z\x71v\x63\x76\x74"]="\x6be\x79";${"G\x4c\x4f\x42\x41\x4c\x53"}["b\x62\x77\x68\x6f\x66c\x6a"]="\x6do\x64\x75\x6c\x65\x5f\x6e\x61\x6de";${"G\x4cO\x42A\x4cS"}["xk\x75\x78\x75\x66\x6d\x78m\x6f\x6a"]="\x6e\x61\x6d\x65";${"\x47\x4c\x4fBA\x4cS"}["\x6c\x61\x6a\x65fqwx"]="\x73\x71l\x46\x69\x65\x6cd\x73";${"\x47\x4c\x4fB\x41\x4c\x53"}["ro\x75ct\x66o\x62\x69e\x6b"]="pa\x72\x61\x6de\x74e\x72\x73";${"\x47LO\x42\x41\x4c\x53"}["\x6d\x67s\x78b\x63\x76\x66p"]="c\x6fn\x74\x65n\x74";${"G\x4c\x4f\x42\x41\x4cS"}["\x73\x6c\x61\x76\x65\x67\x65"]="\x6f\x70\x74i\x6f\x6es";${"\x47\x4cOB\x41\x4c\x53"}["\x6c\x62\x72qyt\x65"]="u\x73\x65\x42\x75i\x6cti\x6eE\x6e\x63\x6fd\x65r\x44\x65\x63\x6f\x64er";${"\x47\x4cO\x42\x41\x4c\x53"}["\x6c\x70\x6bal\x76\x64\x65h"]="\x73\x65\x74\x74i\x6e\x67\x73";${"\x47L\x4fBALS"}["\x62\x62\x75b\x79\x61o"]="\x63o\x6et\x65\x78\x74";${"\x47\x4c\x4f\x42AL\x53"}["\x6d\x70op\x67c\x62"]="\x76\x61l\x75\x65";${"G\x4cO\x42A\x4cS"}["\x6e\x62\x72\x6cuc\x6e\x68"]="\x65\x6ev";${"\x47\x4c\x4f\x42A\x4c\x53"}["\x73\x75n\x6ft\x72\x6f"]="u\x73e\x72";${"\x47\x4cO\x42\x41\x4cS"}["\x76\x73\x64\x64y\x76s\x64d\x75\x66"]="\x77f\x32Co\x6e\x74\x65\x78\x74";${"G\x4c\x4f\x42ALS"}["\x6cwd\x78x\x70\x63g\x6bl\x6c\x7a"]="\x77\x6f\x72\x6bfl\x6f\x77\x49\x44";global$wf2Context;use\Workflow2;class Main{protected$_workflowID;protected$_context;protected$_origContextID=null;protected$_user;protected$_runCounter=0;protected$_environment=array();protected$_successRedirection=false;protected$_successRedirectionTarget=false;protected$_execID=false;protected$executionStack=array();protected$_executionTrigger="";protected$_isSubWorkflow=false;const ON_EVERY_SAVE="W\x462_\x45VE\x52Y\x5fSAV\x45";const ON_FIRST_SAVE="WF\x32_CRE\x41\x54I\x4fN";const MANUAL_START="\x57\x462_\x4dAN\x55E\x4cL";const SENDMAIL_START="WF\x32\x5f\x4d\x41\x49L\x53\x45\x4e\x44";const COMMENT_START="WF\x32_MOD\x43O\x4d\x4dE\x4e\x54";const BEFOREDELETE_START="\x57\x46\x32\x5f\x42\x45FOR\x45\x44E\x4c\x45TE";public static$INSTANCE=null;public function __construct($workflowID,$context=false,$user=false){$ntsykptxwtl="\x63on\x74\x65\x78\x74";$nkckgqsko="\x77\x6fr\x6b\x66\x6co\x77\x49\x44";$this->_workflowID=intval(${${"\x47\x4c\x4f\x42A\x4cS"}["\x6c\x77d\x78\x78\x70\x63\x67\x6b\x6c\x6c\x7a"]});${"\x47\x4cO\x42AL\x53"}["\x72t\x6d\x6ek\x6exs\x72"]="c\x6fn\x74\x65\x78\x74";$pjwegssxhj="con\x74\x65\x78\x74";$this->_context=${${"\x47\x4c\x4f\x42\x41\x4cS"}["\x72\x74m\x6eknxsr"]};${"G\x4c\x4f\x42\x41\x4c\x53"}["\x76\x78nbp\x72u\x6as"]="\x49\x4e\x53\x54\x41\x4e\x43\x45";global$wf2Context;if(${$pjwegssxhj}!==false){${${"\x47\x4c\x4f\x42\x41L\x53"}["\x76\x73\x64\x64\x79v\x73\x64d\x75\x66"]}=$this->_context;}if(${$ntsykptxwtl} instanceof\Workflow\VTEntity){$this->_origContextID=$context->getId();}if(${${"\x47L\x4fBA\x4c\x53"}["\x73\x75\x6e\x6ft\x72o"]}!==false&&!is_a(${${"\x47\x4c\x4f\x42\x41\x4c\x53"}["su\x6e\x6ft\x72\x6f"]},"U\x73\x65r\x73")){throw new\BadFunctionCallException("\x57\x6f\x72kf\x6cow \x50\x65r\x6dis\x73\x69\x6f\x6e \x64\x65n\x69\x65\x64 for\x20\x74hi\x73\x20\x75\x73\x65\x72");}$this->_execID=md5(microtime(true)."#s\x74art".${$nkckgqsko}.mt_rand(1000,9999));$this->_user=${${"\x47\x4cO\x42A\x4cS"}["suno\x74\x72\x6f"]};self::${${"G\x4cO\x42\x41\x4c\x53"}["v\x78\x6e\x62p\x72\x75js"]}=$this;}public function clearRedirection(){$ostokkcft="\x65nv";${"\x47\x4cO\x42\x41L\x53"}["fi\x6a\x70k\x76\x6ca"]="\x65n\x76";${"G\x4c\x4f\x42\x41L\x53"}["\x76g\x7a\x68\x76rq\x78\x71p\x6e"]="\x65\x6ev";${$ostokkcft}=$this->_context->getEnvironment("_\x77\x66\x64");unset(${${"\x47L\x4fB\x41L\x53"}["v\x67\x7a\x68vr\x71x\x71p\x6e"]}["r\x65\x64i\x72\x65c\x74i\x6fn"]);unset(${${"\x47\x4c\x4fBA\x4c\x53"}["nb\x72\x6cu\x63n\x68"]}["redir\x65c\x74ion\x5ftarg\x65t"]);$this->_context->setEnvironment("\x5fw\x66d",${${"\x47\x4c\x4fB\x41\x4cS"}["\x66\x69\x6apkv\x6ca"]});}public function setSuccessRedirection($value){${${"\x47L\x4fB\x41\x4c\x53"}["n\x62r\x6cu\x63nh"]}=$this->_context->getEnvironment("_w\x66\x64");${"G\x4c\x4fB\x41\x4cS"}["e\x69\x6aj\x79\x77l\x79\x6c"]="env";if(empty(${${"\x47\x4c\x4f\x42\x41\x4c\x53"}["\x6e\x62\x72\x6c\x75\x63\x6e\x68"]}))${${"GL\x4f\x42A\x4c\x53"}["nb\x72l\x75cn\x68"]}=array();${${"G\x4c\x4fBAL\x53"}["\x65\x69j\x6a\x79\x77\x6cy\x6c"]}["\x72ed\x69r\x65c\x74ion"]=${${"\x47\x4cO\x42\x41L\x53"}["m\x70o\x70\x67\x63b"]};$this->_context->setEnvironment("_w\x66d",${${"\x47\x4c\x4f\x42A\x4cS"}["\x6e\x62rl\x75cn\x68"]});$this->_successRedirection=${${"GLOB\x41\x4cS"}["m\x70\x6f\x70\x67\x63\x62"]};}public function setSuccessRedirectionTarget($value){$lxpabucjpzxd="\x65\x6e\x76";${${"\x47\x4c\x4fBA\x4c\x53"}["nbrluc\x6e\x68"]}=$this->_context->getEnvironment("_w\x66\x64");${"\x47\x4c\x4f\x42\x41\x4c\x53"}["y\x69\x6b\x78\x63\x6dv\x71\x67\x68"]="\x65\x6ev";if(empty(${${"GL\x4fB\x41LS"}["n\x62\x72l\x75c\x6e\x68"]}))${$lxpabucjpzxd}=array();${"G\x4c\x4f\x42\x41\x4cS"}["\x75\x79kb\x76\x77\x66u"]="\x76al\x75e";${${"G\x4cOB\x41\x4c\x53"}["y\x69\x6b\x78cmvq\x67\x68"]}["r\x65\x64\x69r\x65\x63\x74i\x6fn\x5f\x74\x61rg\x65t"]=${${"\x47\x4c\x4f\x42\x41L\x53"}["\x75y\x6b\x62\x76w\x66\x75"]};$this->_context->setEnvironment("\x5f\x77f\x64",${${"\x47\x4cOB\x41\x4c\x53"}["\x6eb\x72\x6c\x75\x63\x6e\x68"]});$this->_successRedirectionTarget=${${"G\x4c\x4fB\x41LS"}["m\x70\x6fp\x67c\x62"]};}public function getSuccessRedirection(){if(empty($this->_context))return false;${${"\x47\x4c\x4f\x42\x41\x4cS"}["n\x62r\x6c\x75\x63\x6eh"]}=$this->_context->getEnvironment("\x5fw\x66d");$ydxyaxid="\x65n\x76";if(!empty(${$ydxyaxid}["\x72\x65di\x72\x65ct\x69\x6fn"])){return${${"G\x4c\x4f\x42ALS"}["\x6eb\x72\x6cu\x63n\x68"]}["\x72\x65\x64\x69\x72ect\x69\x6fn"];}return$this->_successRedirection;}public function getSuccessRedirectionTarget(){if(empty($this->_context))return"s\x61me";if($this->_context!==false){$ksbphbpzhqg="\x65nv";${"\x47\x4cOB\x41\x4cS"}["\x76v\x79h\x6a\x71\x73x\x6b\x66"]="\x65nv";${${"G\x4c\x4f\x42A\x4c\x53"}["\x76\x76\x79\x68\x6a\x71\x73\x78\x6bf"]}=$this->_context->getEnvironment("\x5f\x77\x66\x64");if(!empty(${$ksbphbpzhqg}["\x72edi\x72\x65ct\x69\x6f\x6e\x5ft\x61r\x67et"])){return${${"\x47\x4c\x4fBA\x4c\x53"}["n\x62r\x6cu\x63n\x68"]}["\x72\x65dir\x65\x63t\x69o\x6e\x5ft\x61rg\x65t"];}return$this->_successRedirectionTarget;}return"";}public function getId(){return$this->_workflowID;}public function getContext(){return$this->_context;}public function isSubWorkflow($value=null){if(${${"\x47L\x4fBA\x4cS"}["\x6d\x70\x6f\x70\x67\x63\x62"]}!==null){${"\x47\x4c\x4f\x42A\x4cS"}["\x6as\x70i\x64\x79f\x61p"]="v\x61\x6cu\x65";$this->_isSubWorkflow=${${"\x47\x4c\x4f\x42\x41\x4cS"}["j\x73p\x69\x64\x79\x66\x61p"]};}return$this->_isSubWorkflow;}public function setContext($context){${"\x47\x4c\x4fBA\x4c\x53"}["fd\x76\x65bm\x69"]="\x63\x6f\x6e\x74\x65\x78\x74";if(${${"\x47L\x4fB\x41\x4cS"}["\x62\x62\x75\x62\x79\x61o"]} instanceof\Workflow\VTEntity){$this->_origContextID=$context->getId();}$this->_context=${${"\x47\x4cO\x42\x41L\x53"}["\x66d\x76\x65\x62\x6di"]};$yjwatgnbvsb="w\x66\x32Co\x6e\x74\x65xt";global$wf2Context;${$yjwatgnbvsb}=$this->_context;}public function getOptions(){$vqqmyhj="\x6fp\x74\x69\x6f\x6es";${$vqqmyhj}=array();${${"\x47\x4cO\x42A\x4c\x53"}["\x6c\x70\x6ba\x6c\x76\x64\x65h"]}=$this->getSettings();if(strlen(${${"G\x4cO\x42\x41L\x53"}["\x6c\x70\x6b\x61\x6cv\x64e\x68"]})>4){\Zend_Json::${${"\x47\x4c\x4fB\x41LS"}["\x6c\x62rqy\x74e"]}=true;${${"\x47\x4cO\x42\x41\x4c\x53"}["\x73\x6cav\x65g\x65"]}=\Zend_Json::decode(${${"G\x4cO\x42\x41\x4c\x53"}["\x6cp\x6balv\x64e\x68"]}["\x6f\x70\x74\x69\x6f\x6es"]);}return${${"\x47\x4c\x4f\x42\x41\x4c\x53"}["s\x6cave\x67\x65"]};}public function getEnvironment(){return$this->_context->getEnvironment();}public static function import($name,$content,$module_name=false){$xsugkyurbsce="\x62\x6c\x6f\x63k";$hblzybtovr="\x6b\x65y";${"\x47L\x4f\x42\x41\x4cS"}["\x71\x74\x6b\x69\x71hl\x75wyc\x64"]="\x6b\x65\x79";$xmggdhvkc="\x63\x6f\x6e\x74\x65n\x74";${"\x47\x4c\x4fB\x41\x4c\x53"}["\x62\x78\x78\x6du\x73\x75\x62\x68p\x77"]="\x6do\x64\x75\x6c\x65\x4d\x6f\x64e\x6c";$nyxiwxstfdo="\x73\x71lFi\x65\x6cds";$lwkjrvtyx="\x63\x6f\x6e\x74\x65n\x74";global$adb;${${"\x47\x4cO\x42\x41\x4c\x53"}["bx\x78\x6d\x75su\x62\x68\x70\x77"]}=\Vtiger_Module_Model::getInstance("W\x6fr\x6bflo\x77\x32");$pxffcakf="cont\x65\x6et";if(${$lwkjrvtyx}["mai\x6e"]["w\x6frk\x66lo\x77_v\x65rsion"]>$moduleModel->version){throw new\Exception("Exp\x6f\x72\x74e\x64 w\x69\x74\x68\x20Wo\x72k\x66l\x6fw\x20\x44e\x73ig\x6e\x65\x72 Ve\x72s\x69on ".${${"G\x4cO\x42AL\x53"}["\x6d\x67\x73\x78bc\x76f\x70"]}["\x6dai\x6e"]["w\x6f\x72\x6b\x66lo\x77\x5f\x76ersion"].". Yo\x75 \x6ee\x65d \x61\x74 le\x61\x73t \x74his ver\x73ion t\x6f \x69mpo\x72t\x21");return;}${"\x47\x4cOB\x41\x4cS"}["b\x6d\x78\x6dj\x6fz"]="\x63o\x6ete\x6et";$fecwigcvry="sq\x6c";if(${${"\x47\x4cO\x42\x41\x4cS"}["b\x6d\x78m\x6a\x6f\x7a"]}["ma\x69\x6e"]["w\x6frkfl\x6f\x77\x5f\x76\x65r\x73i\x6f\x6e"]<$moduleModel->version){switch(${$xmggdhvkc}["m\x61\x69\x6e"]["wo\x72\x6b\x66\x6c\x6f\x77_\x76\x65r\x73\x69on"]){case 0.2:}}${${"\x47\x4cO\x42\x41\x4c\x53"}["\x72\x6f\x75\x63\x74\x66\x6f\x62\x69\x65\x6b"]}=array();${${"\x47\x4cOB\x41\x4cS"}["\x6c\x61\x6a\x65f\x71\x77\x78"]}=array();$fruxiulb="b\x6c\x6f\x63\x6b";unset(${${"\x47\x4c\x4f\x42\x41L\x53"}["m\x67\x73\x78\x62\x63v\x66\x70"]}["\x73\x65tti\x6e\x67s"]["i\x64"]);${"\x47LO\x42AL\x53"}["t\x73\x6eo\x7ak\x75\x70\x65\x6cg\x6c"]="\x6be\x79";${${"\x47L\x4f\x42\x41\x4c\x53"}["\x6d\x67\x73\x78\x62\x63\x76f\x70"]}["\x73ettin\x67\x73"]["a\x63ti\x76e"]="0";if(!empty(${${"\x47L\x4fBA\x4cS"}["\x78\x6b\x75\x78uf\x6d\x78\x6d\x6f\x6a"]})){$jslzgwghuuw="\x63\x6fn\x74e\x6e\x74";${"G\x4c\x4f\x42\x41\x4c\x53"}["\x64\x65\x66k\x69y\x65rc"]="\x6e\x61me";${$jslzgwghuuw}["s\x65\x74\x74\x69\x6e\x67s"]["\x74i\x74le"]=${${"G\x4cO\x42A\x4c\x53"}["\x64\x65\x66\x6biy\x65\x72c"]};}${"G\x4c\x4fB\x41\x4c\x53"}["h\x74\x7a\x73o\x69\x75\x72"]="\x6f\x62\x6aWorkf\x6cow";foreach(${${"G\x4cO\x42\x41\x4cS"}["\x6dg\x73\x78\x62\x63\x76fp"]}["s\x65\x74\x74i\x6e\x67s"]as${${"\x47L\x4f\x42\x41LS"}["t\x73\x6e\x6f\x7a\x6bupe\x6c\x67\x6c"]}=>${${"\x47\x4cOBA\x4cS"}["\x6d\x70\x6f\x70\x67\x63\x62"]}){$mhqffbhr="k\x65\x79";${"\x47L\x4f\x42AL\x53"}["\x69\x69x\x73z\x77\x75\x64\x6f"]="\x6b\x65\x79";$pgtgbndlih="\x76\x61\x6c\x75\x65";if(${${"G\x4c\x4f\x42AL\x53"}["\x69\x69\x78\x73z\x77u\x64\x6f"]}=="\x6dod\x75\x6c\x65\x5fn\x61me"&&${${"\x47L\x4f\x42A\x4c\x53"}["\x62\x62\x77\x68\x6f\x66\x63\x6a"]}!==false){${"\x47\x4c\x4f\x42\x41\x4c\x53"}["r\x79crx\x6ca\x65gi\x6a"]="va\x6c\x75\x65";${${"\x47L\x4fBA\x4c\x53"}["\x72yc\x72\x78\x6c\x61\x65gij"]}=${${"\x47\x4c\x4f\x42\x41\x4c\x53"}["\x62\x62\x77\x68o\x66\x63\x6a"]};}${"\x47L\x4f\x42\x41L\x53"}["\x6b\x6b\x6b\x72\x6b\x68\x63\x6b\x65"]="s\x71l\x46\x69\x65\x6c\x64\x73";${"G\x4c\x4f\x42\x41\x4c\x53"}["x\x73f\x64\x68\x61\x6d"]="p\x61r\x61\x6d\x65\x74\x65rs";if(${$mhqffbhr}=="\x6f\x70\x74io\x6en\x73")continue;${${"\x47\x4c\x4fB\x41\x4c\x53"}["\x6b\x6bk\x72\x6bh\x63\x6b\x65"]}[]="`".${${"\x47\x4c\x4f\x42\x41\x4cS"}["\x7a\x71\x76\x63vt"]}."` =\x20?";${${"G\x4c\x4f\x42A\x4cS"}["x\x73fd\x68\x61m"]}[]=${$pgtgbndlih};}${$fecwigcvry}="\x49\x4eSE\x52\x54\x20IN\x54O\x20\x76t\x69ger_w\x66\x5f\x73\x65\x74ti\x6egs SET\x20".implode(",\x20",${$nyxiwxstfdo});$hrcgmsfsun="w\x6fr\x6bfl\x6f\x77ID";$adb->pquery(${${"\x47\x4cO\x42A\x4c\x53"}["\x64\x75\x74\x63\x79\x74\x69\x63\x61\x6ef"]},${${"\x47\x4cO\x42\x41\x4cS"}["rou\x63\x74f\x6f\x62iek"]},true);$tdwnivnmre="\x62lo\x63\x6b\x41\x6ci\x61\x73\x4c\x69s\x74";${"\x47\x4c\x4f\x42\x41\x4cS"}["\x67\x68\x64\x75\x67\x75m\x68s\x62\x72\x67"]="\x63\x6f\x6et\x65n\x74";${$hrcgmsfsun}=$adb->getLastInsertID();${${"G\x4c\x4f\x42AL\x53"}["h\x74\x7a\x73\x6f\x69\x75\x72"]}=new Main(${${"\x47\x4c\x4f\x42\x41L\x53"}["\x6c\x77d\x78x\x70\x63\x67k\x6c\x6c\x7a"]});${$tdwnivnmre}=array();${"\x47L\x4f\x42\x41\x4c\x53"}["\x71i\x63\x69\x6a\x75\x79\x62tz\x75"]="con\x74e\x6e\x74";foreach(${${"\x47L\x4f\x42A\x4c\x53"}["\x67h\x64u\x67\x75\x6d\x68s\x62r\x67"]}["b\x6c\x6fcks"]as${${"\x47\x4c\x4f\x42A\x4cS"}["q\x74\x6b\x69\x71\x68l\x75\x77ycd"]}=>${$xsugkyurbsce}){$edcoonec="bloc\x6b\x41li\x61\x73List";$jkceznbqny="\x62\x6c\x6fc\x6b\x44\x61t\x61";${"G\x4cO\x42AL\x53"}["\x6dh\x67p\x75v\x77\x6cn\x67\x73h"]="\x70\x61r\x61\x6d\x65\x74\x65\x72\x73";${"\x47\x4c\x4f\x42\x41\x4c\x53"}["g\x7a\x78v\x78\x75h\x72"]="\x62\x6c\x6f\x63\x6b";${${"\x47\x4c\x4f\x42\x41\x4c\x53"}["m\x68\x67\x70\x75\x76w\x6c\x6e\x67\x73\x68"]}=array();${${"G\x4c\x4f\x42AL\x53"}["\x6c\x61j\x65fq\x77x"]}=array();$smmjhpkgpef="bloc\x6b";${$jkceznbqny}=${${"\x47\x4c\x4fB\x41\x4cS"}["\x6bq\x72f\x6a\x6bwld\x6d"]}["\x62\x6c\x6fckDa\x74a"];$mxegpdowl="\x62\x6coc\x6b\x41\x6c\x69\x61\x73";$qogtegimgjfg="\x62l\x6fc\x6b";unset(${$smmjhpkgpef}["blo\x63kD\x61ta"]);$fkprxlle="\x6b\x65\x79";${${"\x47L\x4f\x42\x41\x4c\x53"}["\x6bqrf\x6a\x6b\x77\x6c\x64\x6d"]}["w\x6frk\x66lo\x77\x5fi\x64"]=${${"G\x4cO\x42\x41\x4c\x53"}["l\x77dx\x78p\x63\x67k\x6c\x6c\x7a"]};${"G\x4cO\x42\x41LS"}["ns\x73mi\x72\x67\x7a"]="s\x71\x6c";${$mxegpdowl}=${$fkprxlle};unset(${$qogtegimgjfg}["id"]);$hmmqlrijfb="\x62l\x6f\x63k\x41\x6cias";foreach(${${"\x47\x4cOB\x41L\x53"}["\x6bq\x72f\x6a\x6b\x77\x6c\x64m"]} as${${"GL\x4f\x42AL\x53"}["\x7aq\x76\x63\x76\x74"]}=>${${"G\x4c\x4f\x42\x41L\x53"}["mpop\x67cb"]}){$rkejrrf="\x73\x71\x6cF\x69el\x64s";${"\x47L\x4f\x42\x41\x4cS"}["\x63\x74m\x68\x78\x69\x73v\x6e"]="p\x61r\x61\x6det\x65\x72s";${$rkejrrf}[]="`".${${"GLOBA\x4c\x53"}["\x7a\x71\x76\x63\x76\x74"]}."\x60\x20\x3d\x20?";${${"\x47\x4cOB\x41\x4c\x53"}["c\x74\x6dhxi\x73\x76\x6e"]}[]=${${"G\x4c\x4f\x42\x41\x4c\x53"}["\x6d\x70\x6fp\x67\x63b"]};}$yhxtcpr="\x62l\x6f\x63\x6bD\x61t\x61";${${"\x47LO\x42\x41\x4cS"}["du\x74\x63y\x74i\x63\x61\x6ef"]}="IN\x53E\x52T \x49N\x54O\x20\x76ti\x67\x65\x72\x5f\x77\x66\x70_\x62\x6co\x63ks \x53\x45\x54 ".implode(",\x20",${${"\x47\x4c\x4fBAL\x53"}["\x6c\x61j\x65\x66\x71w\x78"]});$aclgzrsr="bl\x6fck\x41l\x69a\x73";$adb->pquery(${${"\x47\x4cO\x42\x41LS"}["\x6e\x73\x73m\x69\x72\x67z"]},${${"G\x4c\x4f\x42\x41LS"}["r\x6f\x75c\x74\x66\x6f\x62\x69ek"]});${$edcoonec}[${$hmmqlrijfb}]=$adb->getLastInsertID();${${"G\x4c\x4f\x42\x41\x4c\x53"}["\x6c\x6b\x65\x77\x68l\x7a\x73"]}=\Workflow\Manager::getTaskHandler(${${"\x47\x4c\x4f\x42\x41L\x53"}["\x67\x7axv\x78\x75\x68\x72"]}["\x74\x79\x70\x65"],${${"\x47LO\x42A\x4cS"}["\x77\x69ow\x64\x62p\x71\x75\x70"]}[${$aclgzrsr}],${${"\x47L\x4fBA\x4cS"}["\x79\x64\x6f\x79\x64\x78\x77"]});$objHandler->import(${$yhxtcpr});}foreach(${${"\x47\x4cO\x42A\x4c\x53"}["\x71\x69\x63i\x6a\x75\x79\x62\x74z\x75"]}["\x6f\x62j\x65c\x74\x73"]as${$hblzybtovr}=>${$fruxiulb}){${"\x47\x4cOB\x41\x4c\x53"}["\x69\x79\x6f\x79s\x65r"]="\x62l\x6fc\x6b";$fldpbzqshw="\x76\x61l\x75\x65";${"GL\x4f\x42A\x4c\x53"}["\x79\x62\x6f\x69w\x77\x63\x67"]="\x62\x6co\x63\x6b";$blkgewrvgchg="\x70\x61ra\x6d\x65\x74\x65\x72\x73";${$blkgewrvgchg}=array();${"\x47\x4cO\x42\x41\x4c\x53"}["\x6ch\x75\x69\x68d\x63q\x64m\x64"]="\x6bey";${"\x47\x4c\x4f\x42\x41\x4cS"}["\x62v\x66\x78b\x65\x78"]="b\x6c\x6f\x63\x6b";${"\x47\x4c\x4f\x42AL\x53"}["\x66\x65\x69\x66g\x6dm"]="\x77\x6f\x72\x6bf\x6co\x77\x49\x44";${${"G\x4c\x4fB\x41\x4c\x53"}["\x6c\x61\x6aef\x71w\x78"]}=array();${"\x47\x4c\x4fB\x41\x4c\x53"}["gm\x72\x68\x73em\x61\x75\x71\x75"]="\x62\x6c\x6fc\x6bA\x6c\x69\x61\x73";${${"GLO\x42\x41LS"}["i\x79o\x79\x73\x65\x72"]}["\x77o\x72\x6bf\x6c\x6f\x77_\x69d"]=${${"\x47\x4c\x4f\x42AL\x53"}["\x66e\x69\x66g\x6d\x6d"]};${${"G\x4c\x4f\x42\x41LS"}["\x67\x6d\x72h\x73\x65m\x61\x75\x71\x75"]}=${${"G\x4cOBA\x4c\x53"}["z\x71v\x63\x76\x74"]};unset(${${"\x47\x4cOB\x41L\x53"}["\x79boi\x77\x77cg"]}["id"]);$nojqmenzq="\x73q\x6c";${"\x47L\x4f\x42A\x4cS"}["gg\x6fx\x65u\x77q"]="\x70\x61\x72\x61\x6d\x65ter\x73";foreach(${${"\x47\x4cO\x42\x41\x4cS"}["\x62\x76\x66xb\x65\x78"]} as${${"\x47\x4cO\x42ALS"}["\x6c\x68u\x69\x68\x64\x63\x71\x64\x6d\x64"]}=>${$fldpbzqshw}){${"\x47\x4c\x4f\x42\x41\x4c\x53"}["\x6d\x76\x73s\x71\x6bb\x6dc"]="ke\x79";$nfksgpmkq="\x76\x61\x6c\x75e";${"GL\x4fBA\x4cS"}["\x65\x6d\x6ekk\x61\x64"]="\x70\x61\x72a\x6d\x65\x74er\x73";${${"G\x4c\x4f\x42\x41\x4cS"}["l\x61\x6a\x65\x66q\x77\x78"]}[]="`".${${"\x47\x4c\x4f\x42\x41\x4c\x53"}["\x6dv\x73sq\x6b\x62\x6d\x63"]}."` =\x20?";${${"\x47LO\x42A\x4c\x53"}["emn\x6bk\x61\x64"]}[]=${$nfksgpmkq};}${${"GL\x4f\x42\x41\x4cS"}["\x64\x75\x74\x63\x79\x74\x69can\x66"]}="\x49\x4e\x53ERT INT\x4f \x76ti\x67\x65r\x5fwf\x70\x5fo\x62\x6a\x65\x63\x74s \x53ET ".implode(",\x20",${${"\x47\x4c\x4f\x42\x41\x4c\x53"}["\x6ca\x6a\x65\x66\x71\x77\x78"]});$xdppeco="\x62l\x6f\x63\x6b\x41\x6ci\x61\x73\x4ci\x73\x74";$adb->pquery(${$nojqmenzq},${${"G\x4c\x4fB\x41L\x53"}["\x67\x67\x6f\x78\x65\x75\x77\x71"]});${$xdppeco}[${${"\x47\x4c\x4f\x42\x41\x4cS"}["upi\x77\x67\x65\x67\x6fl\x69"]}]=$adb->getLastInsertID();}foreach(${$pxffcakf}["\x63\x6fn\x6ee\x63\x74\x69o\x6es"]as${${"G\x4c\x4f\x42\x41\x4cS"}["\x6b\x71\x72f\x6a\x6bw\x6c\x64\x6d"]}){$hygusrrqso="\x77or\x6b\x66\x6c\x6f\x77\x49D";${"\x47LOB\x41\x4c\x53"}["u\x78\x77\x74a\x65\x64\x61\x6d\x6ev"]="\x62\x6c\x6f\x63\x6b";${"\x47\x4c\x4f\x42\x41\x4c\x53"}["\x65\x73xa\x77\x73\x74mr\x6d"]="\x62\x6co\x63\x6bA\x6c\x69\x61s";${${"G\x4c\x4f\x42AL\x53"}["r\x6f\x75\x63\x74\x66\x6fb\x69\x65\x6b"]}=array();${${"GL\x4f\x42A\x4cS"}["\x6c\x61j\x65\x66q\x77\x78"]}=array();${"G\x4cOB\x41\x4c\x53"}["\x65p\x66pj\x6f\x75k\x6a"]="b\x6c\x6f\x63\x6b";${${"\x47\x4cOB\x41\x4c\x53"}["k\x71\x72f\x6a\x6bwl\x64m"]}["\x77\x6f\x72kfl\x6fw_\x69\x64"]=${$hygusrrqso};$khxxmdl="\x62l\x6f\x63\x6bAl\x69a\x73L\x69s\x74";$tpgmlaqjhj="b\x6c\x6f\x63\x6b";${${"\x47\x4c\x4f\x42ALS"}["\x65s\x78a\x77stm\x72m"]}=${${"GLOB\x41\x4cS"}["\x75\x78\x77\x74\x61\x65d\x61\x6dn\x76"]}["\x69\x64"];unset(${${"\x47L\x4f\x42\x41L\x53"}["\x6bq\x72\x66jk\x77l\x64m"]}["id"]);$cyeuzocrcq="bl\x6fck";${${"\x47L\x4f\x42A\x4cS"}["\x6b\x71r\x66jkwld\x6d"]}["so\x75\x72\x63\x65\x5fi\x64"]=${${"\x47L\x4fBA\x4c\x53"}["w\x69\x6f\x77db\x70\x71\x75p"]}[${$cyeuzocrcq}["sourc\x65_\x69d"]];${$tpgmlaqjhj}["\x64\x65sti\x6e\x61tion\x5fi\x64"]=${$khxxmdl}[${${"\x47\x4cOB\x41\x4c\x53"}["kq\x72\x66\x6a\x6b\x77\x6cd\x6d"]}["de\x73t\x69\x6e\x61\x74\x69o\x6e\x5f\x69d"]];$ixkqmepjpcs="\x73\x71\x6c";foreach(${${"\x47LOBAL\x53"}["e\x70fp\x6a\x6fuk\x6a"]} as${${"GLOB\x41\x4c\x53"}["z\x71\x76\x63v\x74"]}=>${${"\x47LO\x42\x41\x4c\x53"}["mp\x6fpg\x63\x62"]}){$bhcnzdhf="p\x61\x72\x61m\x65\x74\x65\x72\x73";$wdovwyljmxd="ke\x79";$fhgfvnll="\x76\x61lue";${${"G\x4c\x4f\x42AL\x53"}["\x6c\x61\x6a\x65\x66q\x77x"]}[]="`".${$wdovwyljmxd}."` \x3d ?";${$bhcnzdhf}[]=${$fhgfvnll};}${$ixkqmepjpcs}="\x49NSE\x52\x54\x20\x49\x4e\x54O v\x74\x69\x67e\x72_wfp\x5fc\x6fn\x6eec\x74i\x6fns\x20\x53E\x54\x20".implode(", ",${${"G\x4c\x4fB\x41\x4c\x53"}["\x6c\x61\x6a\x65f\x71\x77\x78"]});$adb->pquery(${${"G\x4cOBALS"}["\x64\x75\x74\x63y\x74\x69\x63anf"]},${${"\x47\x4c\x4f\x42\x41\x4c\x53"}["\x72\x6f\x75ctf\x6fb\x69ek"]});}}public function export(){$qtqqwtfos="\x62lo\x63\x6b\x41\x6ci\x61\x73\x4c\x69\x73t";${"\x47\x4c\x4f\x42\x41\x4c\x53"}["\x6a\x6b\x6ft\x67\x6dpm\x67"]="r\x6fw";${"\x47\x4c\x4fB\x41\x4c\x53"}["\x6cm\x66\x64h\x6d\x76\x61"]="\x72\x65\x73\x75l\x74";global$adb;${$qtqqwtfos}=array();${"\x47\x4c\x4fB\x41\x4c\x53"}["o\x77\x78\x70brk\x67\x69\x79m"]="r\x6f\x77";$anvhsjthfv="\x73q\x6c";${"\x47L\x4f\x42\x41\x4cS"}["\x70x\x75\x72h\x70k\x6a"]="r\x6f\x77";${${"GLO\x42\x41\x4c\x53"}["\x74\x70\x74ixr\x67\x66"]}=array("b\x6c\x6fcks"=>array(),"\x63on\x6ee\x63t\x69\x6fns"=>array(),"\x6f\x62j\x65\x63t\x73"=>array());$dahcillojv="\x72\x65s\x75\x6ct";$lqywfmt="\x72\x65s\x75lt";$kiylhkvoyk="\x73\x71\x6c";${$anvhsjthfv}="\x53\x45\x4cECT\x20* FR\x4fM\x20\x76tig\x65r_wf\x70\x5fb\x6c\x6f\x63\x6b\x73 \x57\x48E\x52\x45\x20w\x6fr\x6bf\x6cow_\x69d =\x20".$this->_workflowID;${${"\x47\x4c\x4f\x42\x41\x4c\x53"}["\x6a\x65\x67tsu\x72ybn"]}=$adb->query(${${"\x47LO\x42\x41\x4c\x53"}["\x64\x75\x74\x63\x79\x74i\x63a\x6e\x66"]});while(${${"\x47L\x4f\x42\x41\x4c\x53"}["\x70x\x75rh\x70kj"]}=$adb->fetchByAssoc(${$dahcillojv})){$gkusjl="\x6fb\x6a\x54a\x73\x6b";$vnxrozfgo="\x62l\x6f\x63\x6bAl\x69a\x73\x4c\x69st";$apvklefsu="\x62lo\x63kA\x6c\x69a\x73";$rxuugoh="ro\x77";${"\x47\x4c\x4fB\x41L\x53"}["\x65y\x76jokky\x6c\x69"]="\x72\x6f\x77";$zifjjil="r\x6fw";${$gkusjl}=\Workflow\Manager::getTaskHandler(${${"\x47\x4c\x4f\x42\x41\x4c\x53"}["k\x78\x72djlp"]}["\x74y\x70\x65"],${${"\x47L\x4f\x42\x41\x4c\x53"}["\x6bx\x72\x64j\x6cp"]}["id"],$this);${$apvklefsu}=${$rxuugoh}["\x69\x64"]."\x5f".md5(${${"\x47LOBA\x4c\x53"}["\x6b\x78r\x64\x6al\x70"]}["\x69\x64"]);${$vnxrozfgo}[${${"\x47\x4cOB\x41\x4cS"}["e\x79\x76\x6a\x6f\x6bky\x6ci"]}["id"]]=${${"\x47\x4c\x4f\x42\x41\x4c\x53"}["\x75p\x69wg\x65gol\x69"]};${"\x47L\x4fBA\x4c\x53"}["\x6e\x72g\x64\x6dh"]="\x72\x6fw";$kfwylmy="\x64at\x61";${${"\x47\x4cO\x42\x41\x4c\x53"}["\x6e\x72g\x64m\x68"]}["b\x6c\x6f\x63\x6bD\x61\x74\x61"]=$objTask->export();unset(${$zifjjil}["\x69d"]);${$kfwylmy}["b\x6c\x6f\x63\x6bs"][${${"G\x4c\x4fB\x41\x4c\x53"}["\x75\x70iw\x67\x65\x67\x6fli"]}]=${${"G\x4c\x4fB\x41\x4cS"}["\x6b\x78rd\x6alp"]};}${${"GLO\x42\x41\x4cS"}["d\x75\x74\x63\x79\x74i\x63\x61\x6e\x66"]}="\x53\x45\x4c\x45\x43T\x20* F\x52\x4f\x4d\x20\x76ti\x67er\x5f\x77fp\x5f\x6fbjec\x74s W\x48\x45R\x45\x20wo\x72k\x66low\x5fid\x20=\x20".$this->_workflowID;${${"\x47\x4c\x4fB\x41\x4cS"}["je\x67t\x73ury\x62n"]}=$adb->query(${${"G\x4c\x4f\x42\x41\x4c\x53"}["\x64\x75\x74c\x79t\x69\x63a\x6e\x66"]});while(${${"\x47\x4cOBAL\x53"}["\x6ak\x6ft\x67\x6d\x70\x6d\x67"]}=$adb->fetchByAssoc(${${"\x47\x4c\x4f\x42\x41\x4c\x53"}["\x6cm\x66\x64\x68m\x76\x61"]})){${"\x47\x4cO\x42A\x4c\x53"}["w\x64\x78\x71\x6f\x74\x78\x76\x66"]="b\x6co\x63kA\x6ci\x61\x73";${"G\x4c\x4f\x42\x41\x4c\x53"}["\x65s\x6f\x6c\x75i\x78\x7a"]="b\x6c\x6fc\x6b\x41\x6ci\x61s";${"\x47L\x4fBA\x4c\x53"}["\x66op\x6ep\x64\x79\x77"]="r\x6f\x77";$tefkpiqh="b\x6co\x63\x6b\x41lia\x73L\x69\x73\x74";$fuepsx="r\x6f\x77";${${"\x47LO\x42A\x4c\x53"}["\x77\x64\x78\x71o\x74x\x76\x66"]}=${$fuepsx}["id"]."_".md5(${${"\x47\x4cO\x42\x41L\x53"}["fo\x70\x6e\x70\x64\x79\x77"]}["id"]);${"\x47LOB\x41LS"}["\x75\x67f\x74hs\x66dc\x6a\x62"]="\x72\x6f\x77";${$tefkpiqh}[${${"\x47\x4c\x4f\x42\x41\x4c\x53"}["\x6b\x78\x72dj\x6cp"]}["i\x64"]]=${${"GLO\x42\x41\x4c\x53"}["\x75\x70i\x77ge\x67\x6f\x6ci"]};unset(${${"\x47\x4cO\x42\x41\x4c\x53"}["k\x78\x72d\x6al\x70"]}["i\x64"]);${${"\x47\x4cO\x42\x41\x4c\x53"}["\x74pt\x69\x78r\x67\x66"]}["o\x62j\x65c\x74\x73"][${${"\x47L\x4f\x42A\x4c\x53"}["\x65\x73\x6f\x6c\x75\x69\x78\x7a"]}]=${${"GL\x4f\x42AL\x53"}["\x75gf\x74\x68sf\x64\x63\x6ab"]};}${${"\x47\x4cOBA\x4c\x53"}["\x64\x75t\x63\x79tic\x61\x6e\x66"]}="\x53\x45LE\x43T *\x20\x46\x52O\x4d v\x74iger\x5fwfp_\x63o\x6e\x6ee\x63t\x69o\x6es WHERE\x20\x77o\x72\x6b\x66\x6cow\x5f\x69d = ".$this->_workflowID." AN\x44\x20de\x6ce\x74\x65d\x20=\x200";${${"\x47\x4c\x4f\x42\x41\x4cS"}["j\x65\x67t\x73u\x72\x79b\x6e"]}=$adb->query(${$kiylhkvoyk});while(${${"\x47L\x4f\x42\x41\x4c\x53"}["\x6b\x78r\x64\x6al\x70"]}=$adb->fetchByAssoc(${${"\x47\x4c\x4f\x42\x41LS"}["\x6a\x65\x67\x74\x73u\x72\x79\x62\x6e"]})){$sgvmskyf="blo\x63k\x41\x6c\x69\x61\x73\x4c\x69s\x74";${"\x47\x4c\x4f\x42\x41\x4c\x53"}["\x71\x6c\x6csl\x6a\x6bj\x79"]="\x72\x6f\x77";$kfnajf="\x72o\x77";${"G\x4c\x4f\x42\x41\x4cS"}["f\x70\x75\x68\x77\x67\x79\x65\x67"]="b\x6c\x6f\x63\x6b\x41\x6c\x69asL\x69\x73t";${"\x47\x4cO\x42\x41\x4c\x53"}["\x70\x75\x74\x6any\x69q\x79\x79f"]="r\x6f\x77";${${"G\x4cO\x42\x41\x4c\x53"}["k\x78rd\x6alp"]}["so\x75rc\x65\x5f\x69d"]=${${"\x47L\x4f\x42AL\x53"}["\x66pu\x68\x77\x67ye\x67"]}[${${"G\x4c\x4f\x42\x41\x4c\x53"}["\x6bx\x72d\x6a\x6c\x70"]}["so\x75\x72\x63e\x5f\x69\x64"]];${$kfnajf}["de\x73t\x69\x6e\x61ti\x6fn\x5f\x69d"]=${$sgvmskyf}[${${"\x47L\x4f\x42\x41\x4c\x53"}["p\x75tj\x6e\x79\x69q\x79y\x66"]}["\x64\x65\x73tination_\x69\x64"]];unset(${${"\x47\x4c\x4f\x42A\x4cS"}["\x71l\x6c\x73\x6cj\x6b\x6a\x79"]}["id"]);${${"\x47\x4cO\x42\x41\x4c\x53"}["\x74pt\x69xr\x67\x66"]}["co\x6e\x6e\x65\x63\x74\x69\x6fns"][]=${${"\x47\x4c\x4fB\x41LS"}["\x6b\x78\x72d\x6a\x6cp"]};}${${"GLOBA\x4c\x53"}["\x64\x75\x74\x63\x79\x74\x69\x63\x61\x6ef"]}="\x53\x45L\x45CT *\x20F\x52O\x4d vt\x69\x67\x65\x72\x5fwf\x5fse\x74ti\x6egs\x20\x57HE\x52E i\x64\x20\x3d\x20".$this->_workflowID."";${${"\x47LO\x42A\x4cS"}["j\x65gt\x73u\x72\x79b\x6e"]}=$adb->query(${${"\x47L\x4f\x42\x41LS"}["\x64u\x74\x63\x79\x74i\x63\x61\x6e\x66"]});while(${${"\x47\x4c\x4f\x42\x41\x4cS"}["\x6fw\x78\x70\x62\x72\x6b\x67\x69\x79m"]}=$adb->fetchByAssoc(${$lqywfmt})){$fduelbofnpn="\x64\x61\x74\x61";${"\x47L\x4f\x42\x41L\x53"}["\x63\x6cwj\x77c\x79\x66o\x77\x66\x70"]="\x72o\x77";${$fduelbofnpn}["s\x65t\x74ings"]=${${"G\x4cO\x42\x41\x4c\x53"}["\x63\x6c\x77\x6a\x77c\x79\x66ow\x66p"]};}return${${"\x47\x4c\x4f\x42\x41\x4cS"}["\x74\x70\x74i\x78rgf"]};}public function countRunningInstances(){$skpewrv="\x72\x65\x73u\x6c\x74";global$adb;${"\x47\x4c\x4fB\x41\x4c\x53"}["\x64l\x69s\x64o\x78\x64s"]="\x73\x71l";${${"\x47\x4c\x4f\x42A\x4cS"}["\x64\x6c\x69\x73\x64\x6f\x78d\x73"]}="\x53EL\x45CT C\x4fUN\x54(*)\x20\x61s\x20\x6e\x75m FR\x4fM \x76\x74\x69\x67\x65r\x5fw\x66_\x71\x75\x65\x75\x65\x20\x57H\x45\x52E\x20w\x6f\x72k\x66l\x6fw_id = ".$this->_workflowID;${$skpewrv}=$adb->query(${${"\x47\x4cO\x42\x41L\x53"}["d\x75t\x63y\x74\x69\x63\x61n\x66"]});return$adb->query_result(${${"\x47\x4c\x4f\x42\x41\x4c\x53"}["jeg\x74suryb\x6e"]},0,"num");}public function countLastError(){$utugkuftnv="\x72e\x73\x75\x6c\x74";$yfmhvslk="\x73q\x6c";global$adb;${${"\x47L\x4fB\x41L\x53"}["\x64\x75t\x63\x79t\x69ca\x6e\x66"]}="\x53\x45\x4cEC\x54 \x43\x4f\x55N\x54(*) \x61\x73\x20\x6e\x75m F\x52OM \x76t\x69\x67\x65\x72\x5f\x77f_er\x72\x6f\x72\x6co\x67\x20WHER\x45\x20w\x6f\x72k\x66low_\x69\x64\x20=\x20".$this->_workflowID;${${"G\x4cO\x42\x41\x4c\x53"}["j\x65\x67t\x73\x75\x72y\x62n"]}=$adb->query(${$yfmhvslk});return$adb->query_result(${$utugkuftnv},0,"n\x75m");}private$_settings=null;public function getSettings(){global$adb;if($this->_settings!==null){return$this->_settings;}$vmgbua="\x72\x65s\x75\x6ct";${${"G\x4cO\x42\x41\x4cS"}["\x64\x75\x74cyt\x69can\x66"]}="S\x45L\x45C\x54\x20* \x46R\x4f\x4d vtig\x65\x72\x5f\x77f\x5fs\x65\x74\x74\x69\x6eg\x73 \x57HE\x52E \x69d \x3d ".$this->_workflowID;${"\x47\x4c\x4fB\x41\x4c\x53"}["\x78\x76u\x76\x63d\x76\x71p"]="\x73\x71\x6c";${$vmgbua}=\Workflow\VtUtils::query(${${"\x47L\x4fBA\x4c\x53"}["xv\x75\x76c\x64v\x71p"]});$this->_settings=$adb->fetch_array(${${"\x47\x4c\x4f\x42\x41\x4c\x53"}["\x6aegts\x75r\x79\x62n"]});return$this->_settings;}public function hasRequestValues($key){$cixmmbeuyecq="\x72\x65\x71\x56al\x75\x65s";${${"G\x4cO\x42\x41L\x53"}["n\x71\x74\x6dpome\x6dn\x64"]}=$this->_context->getEnvironment("_re\x71\x56alu\x65\x73");if(isset(${$cixmmbeuyecq}[${${"\x47\x4c\x4f\x42\x41\x4c\x53"}["\x7a\x71\x76\x63\x76\x74"]}])){return true;}return false;}public function resetRequestValueKey($key){$gpsmtmr="r\x65qV\x61\x6c\x75\x65s";${${"GL\x4f\x42\x41L\x53"}["\x6eq\x74\x6d\x70o\x6d\x65m\x6e\x64"]}=$this->_context->getEnvironment("_r\x65qV\x61l\x75e\x73");$atyjxru="\x6b\x65\x79";unset(${$gpsmtmr}[${$atyjxru}]);$this->_context->setEnvironment("_\x72eqV\x61l\x75\x65\x73",${${"\x47\x4c\x4fB\x41\x4cS"}["\x6e\x71t\x6d\x70\x6f\x6de\x6dn\x64"]});}public function requestValues($key,$FormGeneratorExport,\Workflow\Task$task,$message,\Workflow\VTEntity$context,$stoppable=false,$pausable=true){$mndrwhpuj="\x74\x61s\x6b";${"\x47LO\x42\x41\x4cS"}["k\x62\x75\x6asd\x64\x79"]="k\x65\x79";${${"\x47\x4cOB\x41\x4cS"}["\x6b\x77d\x62\x6ct\x68\x67\x74"]}=\Workflow\Queue::addEntry(${$mndrwhpuj},$context->getUser(),${${"G\x4c\x4f\x42\x41LS"}["bb\x75\x62y\x61\x6f"]},"\x73t\x61t\x69\x63",false,1,false);${"\x47\x4c\x4f\x42A\x4cS"}["\x64\x63\x63h\x67\x79\x70"]="m\x65\x73\x73\x61\x67e";$offyxyihf="\x46\x6fr\x6d\x47\x65nera\x74\x6fr\x45x\x70o\x72\x74";$nkajnsmoki="\x73\x74\x6f\x70p\x61\x62\x6c\x65";\Workflow\Userqueue::add("reque\x73t\x56al\x75e",${${"G\x4cO\x42\x41\x4c\x53"}["\x6bw\x64\x62\x6c\x74hg\x74"]},${${"\x47LOB\x41\x4c\x53"}["\x76\x6cx\x69ew"]},$task->getExecId(),array("res\x75lt"=>"r\x65\x71val\x75e\x73","r\x65q\x75\x65st_\x6d\x65\x73sag\x65"=>${${"G\x4c\x4f\x42\x41L\x53"}["\x64cch\x67\x79p"]},"\x73t\x6f\x70p\x61b\x6c\x65"=>${$nkajnsmoki},"cr\x6dId"=>$context->getId(),"blo\x63\x6b\x49\x64"=>$task->getBlockId(),"\x66i\x65\x6c\x64\x73\x5fk\x65\x79"=>${${"\x47\x4c\x4f\x42\x41\x4cS"}["k\x62\x75\x6a\x73\x64\x64y"]},"ex\x65\x63\x49d"=>$task->getExecId()."\x23\x23".$task->getBlockId(),"hand\x6ce\x72"=>"\\\x57o\x72k\x66\x6c\x6fw\x5c\x50\x72\x65\x73e\x74\x5c\x46o\x72\x6dGen\x65\x72a\x74\x6fr","ha\x6e\x64l\x65\x72\x43\x6fnf\x69g"=>${$offyxyihf},"\x70\x61\x75\x73\x61\x62l\x65"=>${${"G\x4c\x4f\x42\x41L\x53"}["\x69\x6d\x6c\x65\x67\x73"]}));}public function checkAuth($auth,$user=false){$mibyzamklrf="\x75\x73\x65\x72";${"GL\x4f\x42\x41L\x53"}["\x63\x74\x6f\x6a\x74\x75\x6c\x66\x74h"]="\x73e\x74\x74\x69n\x67\x73";global$adb,$current_user;$qegkybkikp="\x61u\x74\x68";${${"GL\x4fB\x41\x4c\x53"}["\x63t\x6f\x6a\x74\x75\x6c\x66th"]}=$this->getSettings();if(${${"G\x4c\x4f\x42\x41L\x53"}["\x6c\x70kal\x76\x64\x65\x68"]}["au\x74hm\x61na\x67\x65me\x6et"]=="0"){return true;}if($current_user->is_admin=="o\x6e"){return true;}$wfiosyd="\x72\x65s\x75l\x74";${"\x47\x4cO\x42\x41L\x53"}["\x6f\x6ey\x72\x63\x78c\x74\x63"]="\x75\x73\x65r\x49D";if(${$mibyzamklrf}===false){${${"\x47\x4c\x4f\x42\x41L\x53"}["\x73\x75\x6e\x6ft\x72\x6f"]}=${${"\x47\x4cO\x42\x41\x4c\x53"}["\x72\x6d\x63\x68\x75\x70\x68\x6cw\x79\x69"]};}${"\x47\x4cO\x42\x41L\x53"}["\x6ac\x66\x68\x74\x65lg\x73"]="\x73ql";switch(${$qegkybkikp}){case"ed\x69t":${${"\x47\x4cOB\x41\x4cS"}["\x6d\x70o\x70\x67\x63b"]}=3;break;case"v\x69\x65w":${${"G\x4cO\x42A\x4c\x53"}["m\x70\x6f\x70\x67c\x62"]}=2;break;case"e\x78\x65c":${${"\x47\x4c\x4fBA\x4c\x53"}["\x6d\x70\x6f\x70\x67\x63\x62"]}=1;break;}${"\x47\x4c\x4f\x42\x41LS"}["\x77\x72\x69\x64gz\x65"]="r\x65\x73\x75\x6c\x74";if(empty(${${"G\x4c\x4fB\x41\x4cS"}["\x6dp\x6f\x70\x67c\x62"]})){return false;}$qljkkjvs="\x73\x71\x6c";${${"\x47LOBAL\x53"}["o\x6eyr\x63\x78\x63t\x63"]}=$user->id;${${"G\x4cOB\x41\x4c\x53"}["\x64ut\x63\x79t\x69\x63\x61\x6e\x66"]}="\x53\x45\x4cECT\x20au\x74\x68_val\x75\x65 FR\x4f\x4d vtiger_w\x66_\x61ut\x68\x20\x57HERE w\x6f\x72kfl\x6fw\x5f\x69\x64\x20= ".$this->_workflowID."\x20AN\x44\x20ke\x79\x5f\x69d\x20\x3d \x27\x75\x73\x65r".${${"\x47LOB\x41LS"}["\x70h\x6fh\x63bfw"]}."\x27";${${"G\x4c\x4fB\x41\x4cS"}["\x6ae\x67\x74\x73u\x72\x79\x62\x6e"]}=$adb->query(${$qljkkjvs});if($adb->num_rows(${$wfiosyd})>0){$bhbsnxm="r\x65\x73\x75l\x74";if($adb->query_result(${$bhbsnxm},0,"\x61u\x74h\x5f\x76alu\x65")<${${"\x47\x4c\x4f\x42\x41\x4cS"}["\x6dpo\x70gcb"]}){return false;}else{return true;}}${${"G\x4cO\x42\x41\x4c\x53"}["\x64u\x74\x63\x79t\x69\x63\x61\x6e\x66"]}="SELEC\x54\x20\x61\x75\x74\x68_v\x61\x6c\x75e \x46RO\x4d\x20\x76\x74\x69\x67\x65\x72_w\x66\x5f\x61ut\x68\x20\x57HE\x52E \x77o\x72\x6bf\x6c\x6f\x77\x5f\x69\x64 = ".$this->_workflowID."\x20A\x4eD\x20\x6b\x65\x79\x5f\x69d\x20=\x20?";${${"GL\x4f\x42A\x4c\x53"}["\x6a\x65\x67\x74\x73\x75r\x79\x62\x6e"]}=$adb->pquery(${${"\x47\x4cO\x42\x41\x4c\x53"}["\x6a\x63\x66ht\x65\x6cg\x73"]},array("r\x6fl\x65".$user->column_fields["r\x6flei\x64"]));if($adb->num_rows(${${"G\x4cOB\x41\x4c\x53"}["wr\x69\x64\x67z\x65"]})>0){$tsfohux="\x72es\x75\x6c\x74";if($adb->query_result(${$tsfohux},0,"\x61u\x74\x68\x5f\x76alu\x65")<${${"GL\x4f\x42\x41\x4c\x53"}["m\x70\x6f\x70gc\x62"]}){return false;}else{return true;}}return true;}public function getAuthDataAll(){${"\x47L\x4f\x42\x41L\x53"}["d\x6d\x79\x6f\x67w\x78\x67l\x6e"]="r\x65s\x75\x6c\x74";${"\x47\x4c\x4f\x42\x41\x4c\x53"}["\x71\x6f\x78d\x6dd\x62\x64\x6be\x7a"]="\x72e\x73ul\x74";$yqvexkvgx="\x72ow";$boqptyjwijcd="s\x71l";${"GL\x4f\x42A\x4c\x53"}["\x79w\x71\x77f\x66\x79\x66\x78h"]="sq\x6c";global$adb;${${"\x47LOB\x41\x4c\x53"}["\x79wq\x77\x66\x66y\x66\x78\x68"]}="\x53\x45\x4c\x45C\x54\x20* F\x52\x4f\x4d \x76\x74iger\x5fw\x66_auth WHER\x45 \x60\x77\x6f\x72kfl\x6fw\x5f\x69d`\x20= ?";${${"\x47\x4c\x4f\x42ALS"}["\x64\x6d\x79\x6fg\x77\x78\x67\x6c\x6e"]}=$adb->pquery(${$boqptyjwijcd},array($this->_workflowID));while(${$yqvexkvgx}=$adb->fetchByAssoc(${${"GL\x4fBA\x4cS"}["\x71o\x78\x64\x6d\x64bdk\x65\x7a"]})){$osilkvadgou="r\x6f\x77";$hbntirwcw="\x72\x6f\x77";${${"\x47\x4c\x4f\x42A\x4cS"}["\x72\x68\x77\x79\x6a\x64r\x6bp"]}[${$hbntirwcw}["key_i\x64"]]=${$osilkvadgou}["\x61u\x74h_\x76\x61\x6c\x75e"];}return${${"G\x4c\x4f\x42\x41\x4c\x53"}["\x72\x68w\x79\x6a\x64\x72\x6b\x70"]};}public function setAuthValue($key_id,$value){${"G\x4cOBA\x4c\x53"}["\x63\x64\x6b\x77a\x77q\x78b\x6c"]="value";$ljatkoo="\x6b\x65\x79\x5fid";${"G\x4cO\x42\x41\x4c\x53"}["ibg\x79\x74\x75\x73\x78\x66\x6b"]="\x76\x61\x6c\x75\x65";${"GL\x4f\x42AL\x53"}["b\x65\x6di\x77\x61v"]="\x76a\x6c\x75\x65";$mmeuhxwl="v\x61l\x75\x65";if(${${"G\x4c\x4fB\x41LS"}["c\x64\x6b\x77\x61wq\x78bl"]}!="\x30"&&${${"\x47\x4c\x4f\x42AL\x53"}["\x6d\x70\x6f\x70\x67\x63\x62"]}!="1"&&${${"GLO\x42\x41\x4c\x53"}["\x69b\x67yt\x75s\x78f\x6b"]}!="2"&&${$mmeuhxwl}!="\x33"&&${${"GL\x4f\x42AL\x53"}["b\x65\x6d\x69\x77a\x76"]}!="-1"){return false;}if(substr(${${"\x47L\x4fB\x41L\x53"}["\x74\x66\x65f\x79\x78\x70\x63\x6b\x67\x78"]},0,4)!="ro\x6ce"&&substr(${$ljatkoo},0,4)!="us\x65\x72"){return false;}${"\x47\x4c\x4fBA\x4c\x53"}["j\x77\x6c\x6f\x76\x7a"]="r\x65\x73\x75lt";global$adb;if(${${"\x47\x4c\x4fB\x41\x4c\x53"}["\x6d\x70\x6f\x70\x67\x63\x62"]}=="-1"){$wfvnkqidhrv="\x73q\x6c";${${"\x47L\x4f\x42A\x4cS"}["\x64\x75\x74c\x79\x74ic\x61\x6ef"]}="\x44\x45\x4cE\x54E \x46\x52O\x4d\x20v\x74\x69ger\x5f\x77f_\x61u\x74h  \x57\x48ERE\x20\x60w\x6fr\x6bfl\x6fw_\x69d` =\x20? A\x4e\x44 \x60k\x65\x79_\x69d` \x3d\x20?";$adb->pquery(${$wfvnkqidhrv},array($this->_workflowID,${${"\x47L\x4fB\x41LS"}["\x74\x66\x65fyx\x70\x63\x6b\x67\x78"]}));return true;}${${"\x47\x4c\x4f\x42\x41\x4cS"}["\x64\x75\x74\x63yt\x69\x63\x61\x6e\x66"]}="\x53E\x4cEC\x54 auth_\x76a\x6c\x75\x65\x20\x46\x52\x4f\x4d vt\x69ge\x72_wf\x5f\x61u\x74\x68\x20W\x48ER\x45\x20\x60\x77o\x72kfl\x6fw\x5fi\x64`\x20\x3d ? AND \x60key_\x69d\x60\x20=\x20?";$wqmyyupz="\x6b\x65\x79\x5fid";${${"\x47\x4cO\x42\x41LS"}["\x6aw\x6c\x6f\x76\x7a"]}=$adb->pquery(${${"GL\x4fB\x41\x4c\x53"}["\x64\x75\x74c\x79\x74\x69ca\x6e\x66"]},array($this->_workflowID,${$wqmyyupz}));if($adb->num_rows(${${"GLO\x42\x41\x4c\x53"}["\x6a\x65\x67\x74su\x72\x79b\x6e"]})>0){$jcwwsjzhky="\x73\x71\x6c";${"\x47\x4cO\x42A\x4c\x53"}["kc\x62hd\x62\x6c"]="\x76\x61\x6cu\x65";${${"G\x4cOBALS"}["\x64\x75tc\x79ti\x63\x61\x6ef"]}="UP\x44\x41\x54E \x76ti\x67e\x72\x5fw\x66\x5faut\x68 S\x45\x54\x20\x61\x75\x74h\x5f\x76\x61l\x75e\x20\x3d ?\x20\x57\x48E\x52E\x20`wo\x72k\x66l\x6fw_i\x64\x60 = ?\x20AN\x44\x20\x60k\x65y_id` \x3d\x20?";$adb->pquery(${$jcwwsjzhky},array(${${"\x47\x4c\x4f\x42\x41\x4c\x53"}["\x6b\x63\x62hd\x62\x6c"]},$this->_workflowID,${${"\x47\x4c\x4fBALS"}["\x74\x66\x65\x66\x79x\x70\x63\x6bgx"]}));}else{$bnqvjhiirgx="\x6b\x65y_\x69\x64";$hfwsqzdxinj="\x73q\x6c";${$hfwsqzdxinj}="I\x4e\x53ERT \x49NTO\x20v\x74\x69\x67er_wf_au\x74h\x20\x53ET \x61u\x74\x68\x5fva\x6cu\x65\x20=\x20?,`\x77o\x72\x6b\x66low_i\x64\x60\x20=\x20?, `ke\x79\x5f\x69\x64\x60 = ?";$adb->pquery(${${"\x47\x4c\x4f\x42\x41L\x53"}["\x64u\x74\x63\x79ti\x63\x61n\x66"]},array(${${"G\x4c\x4f\x42A\x4c\x53"}["m\x70\x6f\x70\x67\x63\x62"]},$this->_workflowID,${$bnqvjhiirgx}));}}public function hasAuthManagement(){$ssxuuwh="\x73e\x74t\x69\x6eg\x73";${${"G\x4c\x4f\x42A\x4c\x53"}["\x6cp\x6b\x61lv\x64\x65\x68"]}=$this->getSettings();return${$ssxuuwh}["\x61u\x74hma\x6e\x61ge\x6d\x65\x6et"]=="\x31";}public function start(){global$adb,$current_user;Workflow2::log($this->_context->getWsId(),$this->_workflowID,0,"\x45x\x65c \x57F");${"\x47\x4cO\x42\x41\x4c\x53"}["\x62k\x71\x6a\x64f\x74"]="\x73\x71\x6c";${${"\x47\x4c\x4fB\x41\x4c\x53"}["\x6c\x70\x6b\x61\x6c\x76d\x65h"]}=$this->getSettings();if(${${"\x47\x4c\x4f\x42ALS"}["\x6c\x70\x6ba\x6c\x76deh"]}["\x6fn\x63e\x5fp\x65\x72_\x72\x65\x63ord"]=="1"&&!$this->_context->isDummy()){$inxxzeyok="da\x74a\x4b\x65y";${"\x47\x4c\x4fB\x41\x4c\x53"}["\x62\x69\x76g\x62\x71x\x74\x6b"]="r\x65\x73\x75lt";$qmpoys="\x73\x71\x6c";${$inxxzeyok}="__\x69\x6e\x74erna\x6c_on\x63e\x50erR\x65\x63or\x64_".$this->getId();${$qmpoys}="S\x45\x4c\x45\x43T da\x74\x61i\x64\x20F\x52\x4fM\x20vtige\x72_wf_\x65ntit\x79ddata\x20W\x48ERE \x63\x72\x6d\x69d \x3d\x20? AN\x44\x20`\x6bey`\x20\x3d\x20?";${${"G\x4cOBALS"}["\x62i\x76\x67\x62qx\x74\x6b"]}=$adb->pquery(${${"G\x4c\x4f\x42A\x4c\x53"}["d\x75\x74c\x79\x74\x69c\x61\x6e\x66"]},array($this->_context->getId(),${${"\x47\x4c\x4fB\x41\x4c\x53"}["\x64os\x75\x7a\x6f\x79\x7a\x67m"]}));if($adb->num_rows(${${"\x47L\x4f\x42A\x4c\x53"}["\x6aegtsu\x72\x79\x62n"]})>0){return false;}else{${"\x47\x4c\x4fB\x41LS"}["\x71lpv\x61\x70\x68\x68\x66\x73pn"]="\x73\x71\x6c";$icdpopmw="sql";${$icdpopmw}="INSE\x52T\x20\x49N\x54O \x76ti\x67\x65r_wf\x5f\x65nt\x69ty\x64\x64at\x61 SET \x60c\x72\x6did` =\x20?, \x60\x6b\x65y\x60\x20\x3d ?,\x20\x60va\x6c\x75e\x60\x20= ?";$adb->pquery(${${"\x47\x4cO\x42\x41L\x53"}["\x71l\x70v\x61\x70\x68\x68f\x73\x70\x6e"]},array($this->_context->getId(),${${"\x47\x4c\x4fBAL\x53"}["d\x6f\x73\x75z\x6f\x79\x7a\x67\x6d"]},array(serialize(1))),true);}}${"\x47\x4c\x4fB\x41LS"}["\x77\x62s\x62\x62yk\x70\x63"]="c\x75\x72r\x65\x6et\x5f\x75\x73\x65\x72";${${"G\x4cO\x42A\x4cS"}["\x77\x62\x73\x62\x62\x79k\x70\x63"]}=$this->getUser();$jbjrvuk="\x63\x75rr\x65\x6e\x74_u\x73er";VTEntity::setUser(${$jbjrvuk});$skdddiceo="row";$sugjsbwz="r\x6f\x77";${${"G\x4cO\x42\x41L\x53"}["\x64\x75\x74\x63\x79t\x69\x63\x61\x6e\x66"]}="SELEC\x54\x20\x69\x64\x20F\x52OM\x20\x76\x74i\x67\x65\x72_wfp\x5fbl\x6fc\x6bs \x57H\x45RE w\x6frk\x66lo\x77_\x69d\x20\x3d ".$this->_workflowID." AND \x74\x79\x70e=\x27\x73\x74a\x72\x74' \x4cIMI\x54\x201";${${"\x47\x4c\x4f\x42\x41LS"}["j\x65g\x74\x73\x75r\x79\x62\x6e"]}=\Workflow\VtUtils::query(${${"GL\x4fBA\x4cS"}["\x62\x6b\x71jd\x66\x74"]});$xrzjxx="\x73\x74\x61r\x74";${$sugjsbwz}=$adb->fetch_array(${${"G\x4c\x4f\x42\x41\x4c\x53"}["jeg\x74\x73\x75r\x79\x62\x6e"]});$vrjfwkerv="st\x61\x72\x74";${$xrzjxx}=\Workflow\Manager::getTaskHandler("\x73tart",${$skdddiceo}["id"],$this);$start->setExecId($this->_execID);$_SERVER["\x72u\x6eni\x6e\x67Wo\x72\x6b\x66\x6c\x6f\x77".$this->_workflowID]=true;$this->pushExecutionStack(${$vrjfwkerv});$this->handleExecutionStack();unset($_SERVER["r\x75\x6e\x6e\x69\x6egW\x6frk\x66l\x6fw".$this->_workflowID]);Workflow2::log($this->_context->getWsId(),$this->_workflowID,0,"\x46i\x6e\x69\x73h \x57F");}public function getLastExecID(){return$this->_execID;}public function handleTasks($tasks,$lastBlockID=0,$lastBlockOutput=""){$nehhnbrdj="\x74\x61\x73\x6b";global$adb;${"\x47LOBA\x4c\x53"}["\x61\x67q\x69\x67\x73\x64\x66"]="\x74\x61\x73\x6b\x73";if(!is_array(${${"G\x4c\x4f\x42\x41\x4c\x53"}["\x61\x67q\x69\x67\x73\x64\x66"]}))${${"GL\x4f\x42A\x4c\x53"}["\x68qt\x66rm\x6e\x76\x72y"]}=array(${${"G\x4c\x4f\x42\x41L\x53"}["\x68q\x74\x66\x72\x6d\x6e\x76r\x79"]});foreach(${${"\x47\x4c\x4f\x42A\x4c\x53"}["\x68\x71\x74f\x72\x6d\x6e\x76\x72\x79"]} as${$nehhnbrdj}){${"GLO\x42\x41\x4c\x53"}["\x65\x79\x6b\x62\x7axw\x74\x6eu\x77"]="\x74\x61\x73\x6b";$this->pushExecutionStack(${${"GL\x4f\x42A\x4cS"}["\x65\x79\x6bbzx\x77\x74\x6eu\x77"]},false);}$this->handleExecutionStack();}public function addQueue($task,$checkMode,$timestamp){global$adb;Queue::addEntry(${${"\x47\x4cO\x42AL\x53"}["xv\x6cjl\x78\x67v\x63m\x76"]},$this->_user,$this->_context,${${"G\x4c\x4f\x42A\x4c\x53"}["\x72\x79u\x73q\x6bkl\x67"]},${${"G\x4cO\x42\x41L\x53"}["\x61\x76ty\x70l\x78\x6ahqh"]});}public function getUser(){return$this->_user;}public function checkCondition($entityData){$viivwbkqtf="s\x65\x74\x74i\x6eg\x73";$kxyfvfacflq="s\x65\x74\x74\x69\x6eg\x73";$zbcwmp="s\x68\x6fu\x6c\x64\x52\x75\x6e";${$viivwbkqtf}=$this->getSettings();${$zbcwmp}=false;switch(${${"\x47LO\x42\x41LS"}["\x6cp\x6ba\x6cv\x64e\x68"]}["\x74ri\x67\x67\x65\x72"]){case self::ON_EVERY_SAVE:if(${${"GLOBA\x4c\x53"}["l\x70k\x61l\x76\x64eh"]}["\x73i\x6d\x75l\x74\x61\x6e"]=="2"&&!$this->isRunning($entityData->getId())){return true;}else if(${${"\x47\x4c\x4fBA\x4c\x53"}["l\x70\x6b\x61l\x76\x64\x65\x68"]}["si\x6du\x6c\x74\x61n"]=="\x31"){return true;}else{return false;}break;case self::ON_FIRST_SAVE:if($this->_context->isNew()){if(${${"G\x4cOB\x41\x4c\x53"}["\x6c\x70\x6b\x61l\x76\x64\x65\x68"]}["\x73\x69mu\x6cta\x6e"]=="\x32"&&!$this->isRunning($entityData->getId())){return true;}else if(${${"\x47L\x4f\x42\x41LS"}["\x6c\x70\x6ba\x6c\x76\x64\x65h"]}["si\x6du\x6ct\x61\x6e"]=="\x31"){return true;}else{return false;}}else{return false;}break;case self::MANUAL_START:return false;break;case self::SENDMAIL_START:if(${$kxyfvfacflq}["\x73\x69\x6d\x75l\x74\x61\x6e"]=="2"&&!$this->isRunning($entityData->getId())){return true;}else{return false;}break;case self::BEFOREDELETE_START:if(${${"\x47\x4c\x4f\x42\x41\x4cS"}["\x6c\x70\x6b\x61lvd\x65\x68"]}["s\x69\x6du\x6c\x74\x61\x6e"]=="\x32"&&!$this->isRunning($entityData->getId())){return true;}else{return false;}break;case self::COMMENT_START:if(${${"G\x4cOB\x41\x4c\x53"}["\x6c\x70\x6ba\x6c\x76\x64e\x68"]}["\x73i\x6d\x75ltan"]=="\x32"&&!$this->isRunning($entityData->getId())){return true;}else{return false;}break;default:return false;break;}}public function isRunning($crmid){${"\x47\x4cO\x42A\x4c\x53"}["\x68\x61x\x6f\x6e\x72\x77\x77"]="s\x71l";$nindertgj="\x72\x65\x73u\x6c\x74";global$adb;${"\x47\x4c\x4f\x42\x41\x4c\x53"}["p\x73\x79fe\x78\x76j\x6c\x79"]="\x73\x71\x6c";if(empty(${${"\x47\x4c\x4f\x42\x41LS"}["\x77\x78\x71\x75\x6b\x6d\x78\x79\x6f"]}))return false;${${"G\x4cOBA\x4c\x53"}["h\x61xo\x6e\x72\x77\x77"]}="\x53EL\x45C\x54\x20id\x20FROM v\x74\x69\x67e\x72_\x77f_q\x75\x65ue WHE\x52E wo\x72k\x66lo\x77_id \x3d ".$this->_workflowID." A\x4eD\x20c\x72mid\x20=\x20?";${${"G\x4c\x4f\x42\x41\x4c\x53"}["j\x65gts\x75\x72\x79\x62\x6e"]}=$adb->pquery(${${"\x47L\x4f\x42\x41\x4cS"}["\x70\x73\x79\x66\x65\x78\x76jl\x79"]},array(${${"\x47\x4c\x4f\x42\x41\x4c\x53"}["\x77\x78q\x75k\x6d\x78\x79\x6f"]}));if($adb->num_rows(${$nindertgj})>0){return true;}if($_SERVER["\x72unn\x69\x6e\x67Workflow".$this->_workflowID]===true){return true;}return false;}public function pushExecutionStack(Task$task,$atFirst=true){$igioyjlyy="atF\x69\x72\x73\x74";if(${$igioyjlyy}){array_unshift($this->executionStack,${${"G\x4c\x4f\x42\x41\x4cS"}["\x78v\x6cjlx\x67\x76c\x6dv"]});}else{$this->executionStack[]=${${"GLOBA\x4c\x53"}["\x78vlj\x6c\x78\x67\x76c\x6dv"]};}}public function popExecutionStack(){if(is_array($this->executionStack)&&count($this->executionStack)>0){return array_shift($this->executionStack);}else{return false;}}public function setExecutionTrigger($value){$this->_executionTrigger=${${"\x47\x4c\x4fB\x41\x4cS"}["m\x70\x6fp\x67\x63b"]};}public function getExecutionTrigger(){return$this->_executionTrigger;}public function isEmptyExecutionStack(){return count($this->executionStack)==0;}public function checkExecuteCondition($crmid,$conditions=false){${${"\x47\x4cO\x42A\x4c\x53"}["jf\x78\x70\x67\x79\x63\x75\x73c"]}=\PearDatabase::getInstance();$hsywvcm="\x63\x6fn\x64\x69\x74\x69\x6f\x6e\x73";$vumjvlyu="\x63\x6fn\x74\x65\x78\x74";if(${${"\x47\x4c\x4f\x42\x41L\x53"}["\x77\x78\x71\x75\x6b\x6d\x78\x79o"]} instanceof VTEntity){$ysqqbxojdeu="\x63r\x6did";$rnvtexenph="\x63\x6f\x6e\x74e\x78\x74";${$rnvtexenph}=${$ysqqbxojdeu};}else{$oyakcjiqhdq="\x63\x6f\x6e\x74\x65x\x74";${$oyakcjiqhdq}=VTEntity::getForId(${${"\x47\x4c\x4f\x42\x41L\x53"}["\x77\x78qu\x6bm\x78yo"]});}if(${$hsywvcm}===false){${"\x47\x4c\x4fB\x41\x4cS"}["\x75\x71\x77\x72\x78jb\x6f\x72\x77\x6d\x68"]="s\x71\x6c";${"GL\x4f\x42A\x4c\x53"}["v\x72q\x68\x79v\x73i"]="\x73\x71\x6c";${${"\x47L\x4f\x42\x41\x4cS"}["vr\x71\x68\x79\x76s\x69"]}="\x53E\x4c\x45C\x54 v\x69\x65w_\x63\x6fn\x64i\x74\x69\x6fn\x20\x46\x52\x4f\x4d \x76\x74i\x67er\x5f\x77\x66_\x73et\x74\x69\x6egs WH\x45\x52\x45 i\x64 \x3d ".$this->_workflowID;${"\x47L\x4f\x42\x41\x4cS"}["n\x63\x71\x6akn\x74v\x63\x76"]="\x72\x65s\x75\x6c\x74";${${"\x47\x4cOBALS"}["\x6e\x63qj\x6bntvc\x76"]}=$adb->query(${${"GLO\x42\x41LS"}["\x75\x71\x77\x72\x78\x6a\x62\x6f\x72\x77\x6d\x68"]});${${"\x47\x4c\x4f\x42A\x4cS"}["\x79ilbh\x70\x77\x61sz"]}=$adb->query_result(${${"\x47\x4cOB\x41\x4c\x53"}["\x6a\x65g\x74\x73\x75\x72yb\x6e"]},0,"v\x69\x65\x77\x5fcon\x64i\x74io\x6e");}${"GLO\x42\x41\x4c\x53"}["j\x6bs\x62\x71\x77\x6b"]="res\x75\x6ct";if((!is_array(${${"GLOB\x41\x4c\x53"}["y\x69l\x62h\x70\x77as\x7a"]})&&strlen(${${"\x47L\x4f\x42\x41\x4c\x53"}["\x79\x69\x6cb\x68\x70\x77\x61\x73z"]})<=5)||count(${${"\x47\x4c\x4fB\x41L\x53"}["\x79i\x6cb\x68p\x77\x61\x73z"]})==0){return true;}try{${"\x47\x4c\x4f\x42A\x4c\x53"}["wiv\x62\x69\x66\x6efz\x71nv"]="\x63o\x6e\x64\x69\x74\x69o\x6e\x73";${${"G\x4c\x4f\x42\x41\x4cS"}["w\x69\x76bif\x6e\x66\x7a\x71\x6e\x76"]}=\Zend_Json::decode(html_entity_decode(${${"GLO\x42A\x4c\x53"}["y\x69\x6c\x62\x68\x70\x77\x61\x73\x7a"]}));}catch(Exception$exp){return true;}${${"\x47\x4cOBA\x4cS"}["d\x78w\x67\x70\x6ab\x6ch\x6d\x73\x6a"]}=ConditionCheck::getInstance();${${"G\x4cO\x42\x41\x4c\x53"}["\x6ak\x73\x62\x71\x77\x6b"]}=$checked->check(${${"\x47L\x4fBA\x4cS"}["\x79i\x6cb\x68\x70\x77a\x73z"]},${$vumjvlyu});return${${"\x47L\x4fB\x41L\x53"}["\x6a\x65\x67t\x73\x75r\x79\x62n"]};}public function handleExecutionStack(){${"\x47\x4c\x4f\x42A\x4c\x53"}["vvd\x77\x69\x66\x76"]="\x73\x71\x6c";$ysboqcvvmqn="s\x71\x6c";$yefjmqvhk="\x72\x65sul\x74";global$adb;while(!$this->isEmptyExecutionStack()){$vuwbyhrzj="\x74\x61s\x6b";${"\x47\x4c\x4f\x42\x41\x4c\x53"}["\x6bifmp\x67"]="\x73\x71\x6c";${"\x47\x4c\x4f\x42\x41\x4c\x53"}["\x75\x66x\x73\x6e\x71\x64"]="c\x75\x72\x72\x65\x6e\x74B\x6c\x6f\x63\x6b\x4fb\x6a";$dbjqipfn="sq\x6c";$vogwmjujihl="\x72e\x74\x75\x72\x6e";${$vuwbyhrzj}=$this->popExecutionStack();${"\x47\x4c\x4f\x42AL\x53"}["\x78q\x6d\x6b\x73mwa"]="\x63ur\x72\x65\x6et\x42\x6c\x6f\x63k";${"\x47\x4c\x4fBA\x4cS"}["\x6e\x74\x74\x67k\x62\x62\x64y"]="\x73\x74\x61\x72\x74";$this->_execID=$task->getExecId();$bkfdycqd="retu\x72n";if(wfIsCli()){echo"S\x74\x61\x72t\x20B\x6c\x6f\x63k W\x46\x20".$this->_workflowID." - ".$task->getBlockId()."\n";}$task->setWorkflowId($this->_workflowID);${${"G\x4c\x4f\x42A\x4cS"}["n\x74t\x67\x6bbbd\x79"]}=microtime(true);$this->_runCounter++;Workflow2::log($this->_context->getWsId(),$this->_workflowID,$task->getBlockId(),"\x20 \x53t\x61\x72\x74\x20B\x6co\x63\x6b");Workflow2::${${"\x47\x4cOB\x41\x4cS"}["\x78\x71\x6d\x6bs\x6d\x77\x61"]}=$task->getBlockId();$xqytwvo="p\x72\x65\x76T\x61s\x6b";Workflow2::${${"\x47L\x4f\x42\x41\x4cS"}["\x75\x66xs\x6eq\x64"]}=${${"\x47\x4c\x4f\x42\x41LS"}["\x78v\x6c\x6al\x78\x67\x76cm\x76"]};${$bkfdycqd}=$task->handleTask($this->_context);if($this->_context->getId()!=$this->_origContextID){${"G\x4c\x4f\x42\x41\x4cS"}["i\x79y\x68\x63\x72\x66ps"]="t\x61\x73\x6b";throw new\Exception("A\x20\x74ask\x20[ID".$task->getBlockId()."] m\x61ni\x70ul\x61te \x74he Wo\x72\x6b\x66\x6c\x6fw\x20Conte\x78t Re\x63ord\x2e\x20\x54\x68is\x20i\x73\x20\x61 \x62u\x67. Pleas\x65 repor\x74\x20\x61\x6ed attac\x68: [E\x52R13,".$this->_context->getId().",".$this->_origContextID.",".get_class(${${"\x47\x4cO\x42\x41L\x53"}["i\x79y\x68\x63\x72\x66p\x73"]})."]\x21");}Workflow2::${${"\x47LO\x42A\x4cS"}["\x63r\x6czdx\x6e\x72\x75"]}=$task->getBlockId();Workflow2::log($this->_context->getWsId(),$this->_workflowID,$task->getBlockId(),"\x20 \x46\x69n\x69\x73h\x20Block");${${"G\x4c\x4f\x42A\x4c\x53"}["\x72\x6bi\x6b\x7ac\x70n\x6d"]}=$task->getStat();if(!empty(${${"\x47\x4c\x4f\x42\x41\x4c\x53"}["\x72\x6b\x69\x6b\x7a\x63\x70n\x6d"]})){${${"G\x4c\x4f\x42\x41\x4cS"}["qy\x68\x63f\x76\x6d"]}=gzcompress(serialize(${${"\x47L\x4f\x42\x41\x4c\x53"}["\x72\x6b\x69k\x7a\x63\x70\x6e\x6d"]}),4);}else{${"\x47\x4c\x4fB\x41\x4c\x53"}["\x68e\x68\x63\x6b\x61\x6el\x62y\x6f"]="s\x74\x61t\x42\x6c\x6f\x62";${${"G\x4c\x4fB\x41\x4c\x53"}["h\x65\x68ck\x61\x6e\x6cb\x79\x6f"]}="";}${${"GL\x4f\x42\x41\x4c\x53"}["a\x78\x65\x69\x64\x71\x72n\x70"]}=$task->getPrevTask();${$dbjqipfn}="I\x4e\x53\x45\x52\x54\x20INTO vti\x67\x65r_\x77\x66_\x6co\x67 SET d\x75r\x61ti\x6fn\x6ds \x3d ?,\x20\x65\x78e\x63I\x44 =\x20?,\x20b\x6c\x6f\x63\x6b\x49D =\x20?,\x20wo\x72\x6bf\x6co\x77_id = ?,\x20time\x73t\x61mp \x3d\x20N\x4fW(), \x6c\x61\x73tBl\x6f\x63\x6b\x49D \x3d ?,\x20\x63\x72\x6d\x69d\x20\x3d ?, la\x73tBl\x6fc\x6bOu\x74p\x75\x74\x20\x3d ?, `\x64a\x74a` \x3d\x20?";$adb->pquery(${${"\x47\x4c\x4f\x42A\x4cS"}["\x6b\x69f\x6d\x70\x67"]},array((microtime(true)-${${"\x47\x4c\x4f\x42\x41LS"}["sk\x76i\x70\x7ag\x6a"]})*1000,$task->getExecId(),$task->getBlockId(),$this->_workflowID,${$xqytwvo}!=false?$prevTask->getBlockId():$task->getBlockId(),$this->_context->getId(),$task->getPrevOutput(),${${"G\x4cOB\x41LS"}["\x71\x79\x68\x63f\x76m"]}));if(${$vogwmjujihl}!==false){$whxsmcdtqed="re\x74\x75rn";$xnsoymy="\x72et\x75\x72n";${"\x47\x4c\x4f\x42\x41\x4c\x53"}["\x79\x71\x76\x6c\x61t"]="\x72e\x74\x75r\x6e";${"G\x4c\x4f\x42A\x4c\x53"}["p\x76clr\x62\x62\x79o"]="\x72et\x75\x72\x6e";$vzqmrtbjeduk="r\x65\x74\x75rn";if(empty(${${"\x47\x4c\x4fBAL\x53"}["\x70k\x64\x6f\x70\x67\x76\x62\x77"]}))${${"G\x4c\x4f\x42\x41\x4c\x53"}["\x79\x71v\x6ca\x74"]}=false;if(!is_array(${${"\x47\x4c\x4fB\x41LS"}["pk\x64\x6f\x70\x67\x76b\x77"]})&&${$whxsmcdtqed}!==false)${$xnsoymy}=array(${${"GLOB\x41L\x53"}["\x70\x76c\x6c\x72\x62\x62\x79\x6f"]});if(isset($_COOKIE["\x73te\x66\x61\x6eDe\x62u\x67"])&&$_COOKIE["s\x74e\x66anD\x65bug"]>="1"){${"G\x4c\x4f\x42A\x4cS"}["\x6a\x66\x70\x79i\x67\x62"]="re\x74\x75\x72\x6e";echo"\x52\x65\x73u\x6ct:";var_dump(${${"\x47\x4c\x4fBA\x4c\x53"}["\x6a\x66\x70y\x69\x67b"]});echo"\x3c\x62r>";}if(!empty(${$vzqmrtbjeduk}["d\x65l\x61\x79"])){$rvecnbracqp="\x72e\x74u\x72\x6e";${"\x47\x4cOB\x41\x4c\x53"}["\x73\x6c\x6dj\x65\x70\x69\x6ak\x73s"]="\x72\x65\x74u\x72n";$nxgntcyeqxsw="r\x65\x74ur\x6e";Queue::addEntry(${${"G\x4c\x4f\x42\x41LS"}["\x78v\x6c\x6a\x6c\x78gv\x63\x6d\x76"]},$this->_user,$this->_context,${${"\x47\x4cO\x42A\x4cS"}["\x73\x6c\x6d\x6a\x65\x70ijk\x73\x73"]}["ch\x65\x63\x6b\x6do\x64\x65"],${$nxgntcyeqxsw}["d\x65\x6c\x61\x79"],(!empty(${${"\x47\x4cO\x42\x41L\x53"}["p\x6b\x64o\x70g\x76b\x77"]}["l\x6f\x63\x6be\x64"])?1:0),!empty(${$rvecnbracqp}["\x66\x69eld"])?${${"\x47\x4cO\x42\x41\x4cS"}["\x70\x6bdop\x67vbw"]}["f\x69el\x64"]:false);continue;}if($this->_runCounter<150){$anxjxoorxli="r\x65\x74\x75\x72\x6e";${"\x47\x4cO\x42\x41\x4c\x53"}["\x76e\x6alujbsb\x72\x74\x73"]="ne\x78\x74\x54as\x6b\x73";${${"GLO\x42A\x4c\x53"}["\x66k\x67\x6c\x67\x71\x67r\x6ev"]}=$task->getNextTasks(${$anxjxoorxli});${${"GLOBA\x4cS"}["\x66kg\x6c\x67qgr\x6e\x76"]}=array_reverse(${${"\x47\x4c\x4f\x42\x41L\x53"}["\x76\x65jl\x75\x6a\x62\x73b\x72t\x73"]});foreach(${${"\x47\x4c\x4fB\x41\x4c\x53"}["\x66\x6b\x67\x6cg\x71\x67\x72nv"]} as${${"G\x4c\x4f\x42\x41\x4c\x53"}["d\x6eh\x68\x65v"]}){$ssztcc="n\x65xtT\x61\x73\x6b";$this->pushExecutionStack(${$ssztcc});}}}}${${"\x47LO\x42\x41LS"}["\x76v\x64\x77\x69\x66v"]}="\x53\x45L\x45\x43T\x20id F\x52O\x4d\x20v\x74\x69ger\x5fw\x66\x5fqu\x65ue\x20W\x48\x45\x52E \x65\x78e\x63ID \x3d\x20'".$this->_execID."\x27";${$yefjmqvhk}=$adb->query(${$ysboqcvvmqn},true);if($adb->num_rows(${${"\x47L\x4fBALS"}["\x6a\x65\x67\x74\x73\x75\x72\x79\x62n"]})==0){$this->_context->unlinkTempFiles($this->_execID);}$this->_context->save();restore_error_handler();}}
?>