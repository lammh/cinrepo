<?php /*
This File was developed by Stefan Warnat <vtiger@stefanwarnat.de>

It belongs to the Workflow Designer and must not be distrubuted without the complete extension
*/
namespace Cron;${"\x47LOB\x41\x4cS"}["nd\x62\x66n\x67\x68"]="\x73\x61t\x69\x73\x66ied";${"\x47\x4c\x4f\x42\x41LS"}["\x77\x64\x79\x61zmn\x75o\x6ck"]="\x66i\x65ld\x73";${"G\x4cO\x42\x41\x4c\x53"}["\x65\x6dq\x67\x64\x78g\x62\x71"]="\x66\x69\x65\x6c\x64";${"\x47LOBA\x4c\x53"}["hwx\x69\x76\x74"]="\x69";${"G\x4cO\x42A\x4cS"}["\x72\x62\x77\x68\x78\x6eq"]="\x70\x61\x72\x74\x73";${"\x47\x4cO\x42A\x4c\x53"}["q\x67\x6c\x74\x69i\x6c\x62n\x73\x75"]="\x6ee\x78tR\x75\x6e";${"\x47\x4cO\x42\x41L\x53"}["\x6e\x72\x67\x78\x79\x71\x70\x79"]="\x63\x75\x72\x72\x65n\x74\x44\x61\x74\x65";${"G\x4c\x4f\x42\x41\x4c\x53"}["\x6c\x68\x74\x6annr\x65\x63\x73h"]="\x69\x6e\x76e\x72\x74";${"\x47L\x4fB\x41L\x53"}["vmg\x6c\x62\x64t\x6b\x78\x61\x71y"]="\x63u\x72\x72en\x74\x54\x69\x6d\x65";${"\x47LOB\x41\x4c\x53"}["q\x7a\x70\x69\x64bfq\x70\x6a\x6d"]="\x74ot\x61\x6c";${"GLOB\x41LS"}["\x67\x77\x65o\x72\x69\x6a\x74"]="\x6da\x74\x63h\x65s";${"\x47L\x4f\x42\x41\x4cS"}["\x6c\x61c\x6b\x65ayw\x73\x6c\x71\x6e"]="\x6et\x68";${"\x47\x4cO\x42\x41\x4c\x53"}["\x79\x62o\x64\x72w\x69"]="\x61\x6c\x6c\x6fwC\x75\x72r\x65ntD\x61\x74\x65";${"\x47\x4cOB\x41\x4cS"}["pp\x62q\x79ym"]="\x70\x6f\x73\x69\x74\x69\x6fn";${"G\x4c\x4f\x42\x41L\x53"}["\x67\x78\x76\x6bk\x71\x70\x65w"]="p\x61\x72t";${"\x47\x4c\x4fBA\x4c\x53"}["\x72\x72eddh"]="\x76\x61l\x75\x65";${"\x47\x4c\x4fB\x41\x4cS"}["\x63\x6f\x70zx\x6d\x77"]="\x66\x69e\x6c\x64\x46\x61ct\x6f\x72y";${"\x47\x4c\x4f\x42\x41\x4cS"}["h\x67\x6a\x72\x70\x64\x79\x78\x6f"]="\x65\x78\x70\x72\x65\x73si\x6f\x6e";${"G\x4c\x4fB\x41\x4cS"}["\x6c\x64\x72\x69\x74\x68r"]="\x6d\x61p\x70\x69\x6eg\x73";class CronExpression{const MINUTE=0;const HOUR=1;const DAY=2;const MONTH=3;const WEEKDAY=4;const YEAR=5;private$cronParts;private$fieldFactory;private static$order=array(self::YEAR,self::MONTH,self::DAY,self::WEEKDAY,self::HOUR,self::MINUTE);public static function factory($expression,FieldFactory$fieldFactory=null){${${"G\x4c\x4f\x42\x41\x4c\x53"}["\x6c\x64\x72ith\x72"]}=array("\x40\x79\x65\x61rl\x79"=>"\x30 \x30\x20\x31 \x31\x20*","@an\x6eua\x6c\x6cy"=>"\x30\x20\x30 1\x201 *","@mo\x6eth\x6cy"=>"0\x20\x30\x201\x20* *","@\x77e\x65kl\x79"=>"0 0\x20*\x20* \x30","\x40\x64a\x69ly"=>"0 0 * *\x20*","@\x68\x6f\x75\x72\x6cy"=>"\x30 *\x20*\x20* *");${"GL\x4fB\x41LS"}["\x6b\x67\x6e\x76\x79\x76\x69\x69\x6a\x70e"]="\x66i\x65l\x64\x46a\x63\x74or\x79";if(isset(${${"\x47\x4cO\x42\x41\x4c\x53"}["\x6c\x64r\x69\x74\x68\x72"]}[${${"G\x4cOB\x41L\x53"}["h\x67\x6a\x72\x70\x64\x79\x78\x6f"]}])){${"\x47\x4cO\x42\x41\x4c\x53"}["k\x63\x6fq\x78b\x62\x77"]="\x65\x78pr\x65ss\x69\x6f\x6e";${${"GL\x4f\x42A\x4c\x53"}["\x68\x67\x6a\x72\x70d\x79\x78\x6f"]}=${${"\x47\x4c\x4f\x42AL\x53"}["\x6c\x64\x72\x69\x74h\x72"]}[${${"\x47\x4c\x4f\x42\x41LS"}["\x6b\x63\x6f\x71x\x62\x62\x77"]}];}return new static(${${"\x47LO\x42\x41L\x53"}["\x68gjr\x70d\x79\x78o"]},${${"\x47L\x4fB\x41\x4c\x53"}["\x6b\x67\x6e\x76\x79vi\x69\x6a\x70\x65"]}?:new FieldFactory());}public function __construct($expression,FieldFactory$fieldFactory){$this->fieldFactory=${${"\x47\x4cO\x42A\x4c\x53"}["c\x6f\x70\x7axmw"]};$this->setExpression(${${"\x47\x4cO\x42\x41\x4c\x53"}["h\x67jr\x70d\x79\x78o"]});}public function setExpression($value){$jmdstfj="\x76alu\x65";$dybuckoii="\x70\x6f\x73\x69\x74i\x6f\x6e";$this->cronParts=preg_split("/\x5c\x73/",${$jmdstfj},-1,PREG_SPLIT_NO_EMPTY);${"G\x4c\x4f\x42\x41\x4c\x53"}["\x6d\x64\x6fzj\x64f\x72\x6c\x64"]="\x70\x61\x72t";if(count($this->cronParts)<5){throw new\InvalidArgumentException(${${"\x47L\x4f\x42\x41\x4c\x53"}["\x72re\x64\x64\x68"]}."\x20i\x73 \x6e\x6f\x74 \x61 \x76a\x6c\x69\x64\x20C\x52\x4f\x4e\x20\x65\x78\x70\x72\x65\x73\x73\x69\x6fn");}foreach($this->cronParts as${$dybuckoii}=>${${"\x47\x4cOB\x41L\x53"}["\x6d\x64\x6f\x7ajd\x66\x72\x6c\x64"]}){${"\x47\x4cO\x42\x41\x4c\x53"}["ug\x6e\x76u\x77y\x75\x62\x75i"]="\x70o\x73i\x74\x69\x6f\x6e";$this->setPart(${${"\x47\x4cO\x42\x41\x4cS"}["\x75\x67n\x76\x75w\x79\x75\x62\x75\x69"]},${${"\x47\x4c\x4f\x42A\x4cS"}["gx\x76\x6bk\x71pe\x77"]});}return$this;}public function setPart($position,$value){${"\x47L\x4fBA\x4c\x53"}["o\x73\x74\x72zl\x71\x75"]="\x76\x61\x6c\x75\x65";$tvlpuefmujer="p\x6f\x73i\x74i\x6f\x6e";if(!$this->fieldFactory->getField(${${"\x47L\x4f\x42\x41\x4cS"}["ppb\x71\x79ym"]})->validate(${${"\x47\x4cOB\x41\x4c\x53"}["r\x72\x65\x64\x64\x68"]})){$arfybusbq="\x70\x6fsi\x74ion";throw new\InvalidArgumentException("I\x6evalid C\x52O\x4e \x66ie\x6cd v\x61\x6c\x75e\x20".${${"\x47L\x4f\x42\x41\x4c\x53"}["\x72r\x65\x64dh"]}." as po\x73iti\x6fn\x20".${$arfybusbq});}$this->cronParts[${$tvlpuefmujer}]=${${"G\x4c\x4fB\x41\x4c\x53"}["\x6f\x73\x74\x72z\x6c\x71u"]};return$this;}public function getNextRunDate($currentTime='now',$nth=0,$allowCurrentDate=false){${"\x47L\x4fB\x41LS"}["\x74n\x66\x6c\x76\x6e\x64"]="\x6e\x74h";$ndjvhpaegsmp="\x63ur\x72en\x74T\x69me";return$this->getRunDate(${$ndjvhpaegsmp},${${"GLO\x42A\x4c\x53"}["\x74\x6eflv\x6e\x64"]},false,${${"G\x4c\x4fB\x41\x4cS"}["y\x62\x6f\x64r\x77i"]});}public function getPreviousRunDate($currentTime='now',$nth=0,$allowCurrentDate=false){$sbyqzvxchk="\x63u\x72\x72\x65nt\x54ime";return$this->getRunDate(${$sbyqzvxchk},${${"\x47\x4cO\x42AL\x53"}["\x6ca\x63\x6b\x65a\x79\x77s\x6c\x71\x6e"]},true,${${"\x47L\x4fB\x41\x4c\x53"}["\x79\x62\x6fd\x72w\x69"]});}public function getMultipleRunDates($total,$currentTime='now',$invert=false,$allowCurrentDate=false){${"\x47\x4c\x4f\x42\x41L\x53"}["\x6eyq\x75\x79\x63\x67\x6dv"]="\x69";${"G\x4c\x4f\x42A\x4c\x53"}["q\x79\x63\x73\x6fms\x79o\x6e"]="\x69";$qgmthfjqk="\x69";${${"GL\x4fBA\x4c\x53"}["gwe\x6f\x72i\x6at"]}=array();${"\x47\x4c\x4f\x42\x41LS"}["\x68\x72\x71j\x6c\x78\x77\x6d\x63"]="\x6datc\x68e\x73";for(${${"GLO\x42A\x4c\x53"}["\x71\x79cso\x6d\x73\x79\x6fn"]}=0;${${"\x47LOB\x41L\x53"}["\x6e\x79\x71u\x79\x63\x67mv"]}<max(0,${${"\x47\x4c\x4fBA\x4c\x53"}["q\x7a\x70\x69d\x62f\x71\x70jm"]});${$qgmthfjqk}++){${"\x47\x4cOB\x41\x4c\x53"}["h\x6a\x74\x69e\x73\x75r\x70"]="\x69";${"\x47\x4c\x4fBA\x4cS"}["\x65\x76o\x70\x70\x73u"]="\x61\x6cl\x6f\x77C\x75rr\x65n\x74\x44\x61\x74\x65";${${"\x47\x4cO\x42\x41\x4c\x53"}["\x67\x77\x65\x6fri\x6a\x74"]}[]=$this->getRunDate(${${"\x47LOB\x41\x4c\x53"}["v\x6d\x67\x6cbd\x74\x6b\x78\x61\x71\x79"]},${${"G\x4cO\x42\x41\x4c\x53"}["\x68\x6a\x74i\x65\x73ur\x70"]},${${"\x47\x4c\x4f\x42\x41\x4cS"}["\x6c\x68tj\x6en\x72\x65csh"]},${${"G\x4cO\x42AL\x53"}["evo\x70\x70s\x75"]});}return${${"\x47L\x4f\x42A\x4cS"}["\x68rqj\x6c\x78\x77\x6dc"]};}public function getExpression($part=null){$ekxvmswbj="\x70\x61\x72\x74";if(null===${${"\x47\x4c\x4f\x42\x41\x4c\x53"}["\x67\x78v\x6b\x6b\x71\x70e\x77"]}){return implode("\x20",$this->cronParts);}elseif(array_key_exists(${$ekxvmswbj},$this->cronParts)){return$this->cronParts[${${"\x47\x4c\x4f\x42\x41LS"}["\x67\x78\x76kk\x71\x70\x65\x77"]}];}return null;}public function __toString(){return$this->getExpression();}public function isDue($currentTime='now'){$hmlxugu="\x63\x75\x72\x72e\x6e\x74Ti\x6d\x65";${"\x47L\x4fB\x41\x4c\x53"}["a\x77\x69\x67\x74p\x71"]="c\x75\x72\x72\x65\x6e\x74\x54\x69m\x65";if("\x6e\x6f\x77"===${${"\x47L\x4f\x42A\x4cS"}["\x61\x77i\x67tpq"]}){${"\x47LOB\x41\x4c\x53"}["\x6b\x65h\x6e\x71\x74i\x62\x69"]="\x63\x75\x72r\x65\x6e\x74\x44\x61\x74e";$qorkuuu="c\x75\x72\x72entD\x61t\x65";${$qorkuuu}=date("Y-\x6d-d\x20H:i");${${"\x47\x4c\x4f\x42ALS"}["vm\x67l\x62\x64tkx\x61\x71y"]}=strtotime(${${"G\x4cO\x42\x41LS"}["k\x65h\x6e\x71\x74\x69\x62i"]});}elseif(${$hmlxugu} instanceof\DateTime){$txcfzjm="\x63\x75\x72\x72\x65\x6etT\x69\x6d\x65";$ikpumdod="\x63u\x72ren\x74Da\x74\x65";${"\x47\x4c\x4f\x42\x41L\x53"}["\x6b\x66\x67\x69\x79y\x6b\x63"]="\x63\x75\x72\x72\x65\x6e\x74\x44\x61\x74e";${${"\x47L\x4f\x42\x41\x4cS"}["\x6bf\x67\x69\x79\x79\x6b\x63"]}=clone${$txcfzjm};$currentDate->setTimezone(new\DateTimeZone(date_default_timezone_get()));${${"G\x4c\x4f\x42A\x4cS"}["\x6erg\x78\x79q\x70\x79"]}=$currentDate->format("\x59-m-d \x48:i");${"\x47\x4cOBAL\x53"}["ua\x67tb\x6bu\x76e"]="\x63\x75\x72\x72\x65\x6e\x74T\x69\x6d\x65";${${"\x47LOB\x41\x4cS"}["ua\x67\x74\x62k\x75\x76\x65"]}=strtotime(${$ikpumdod});}else{${"\x47\x4c\x4f\x42\x41L\x53"}["kws\x73\x62\x77w\x69\x6em\x6e"]="c\x75\x72r\x65n\x74\x54\x69\x6de";${"\x47\x4c\x4f\x42A\x4cS"}["x\x69u\x6by\x69\x6d\x67"]="c\x75\x72r\x65\x6e\x74\x54\x69\x6d\x65";${${"\x47\x4cO\x42\x41LS"}["x\x69\x75\x6b\x79\x69mg"]}=new\DateTime(${${"G\x4c\x4f\x42\x41\x4cS"}["v\x6dgl\x62\x64\x74\x6b\x78\x61\x71\x79"]});$currentTime->setTime($currentTime->format("\x48"),$currentTime->format("i"),0);${${"GL\x4f\x42\x41L\x53"}["n\x72g\x78\x79q\x70\x79"]}=$currentTime->format("Y-\x6d-\x64\x20\x48:i");${${"\x47LOB\x41\x4cS"}["\x6bw\x73\x73bw\x77\x69\x6e\x6d\x6e"]}=$currentTime->getTimeStamp();}return$this->getNextRunDate(${${"\x47\x4cOBA\x4c\x53"}["\x6e\x72\x67\x78\x79\x71p\x79"]},0,true)->getTimestamp()==${${"\x47\x4c\x4fB\x41\x4c\x53"}["\x76\x6d\x67\x6cbdt\x6b\x78a\x71\x79"]};}protected function getRunDate($currentTime=null,$nth=0,$invert=false,$allowCurrentDate=false){${"G\x4c\x4f\x42A\x4cS"}["\x6b\x78mi\x62jq\x6c\x78\x69\x64d"]="i";$dzbfvbchf="cu\x72\x72\x65\x6etD\x61\x74\x65";${"\x47\x4cOB\x41\x4c\x53"}["r\x71\x79l\x66\x66gg\x76"]="\x66i\x65\x6c\x64s";$nltifgs="\x6f\x72\x64\x65\x72";$yodqbrlesk="\x63\x75\x72\x72\x65n\x74Ti\x6de";$lxsohobnlm="\x6e\x74\x68";if(${$yodqbrlesk} instanceof\DateTime){$lggufq="curre\x6e\x74\x44\x61\x74e";${$lggufq}=${${"G\x4cO\x42\x41\x4cS"}["\x76m\x67lb\x64t\x6b\x78\x61\x71\x79"]};}else{${"GL\x4f\x42\x41\x4cS"}["\x67u\x77\x67o\x6b\x73\x75uwy"]="c\x75r\x72\x65\x6e\x74D\x61te";${${"\x47\x4cO\x42ALS"}["\x67\x75w\x67\x6f\x6bs\x75\x75\x77y"]}=new\DateTime(${${"G\x4c\x4f\x42\x41\x4cS"}["\x76\x6d\x67lb\x64\x74\x6bx\x61q\x79"]}?:"\x6eow");$currentDate->setTimezone(new\DateTimeZone(date_default_timezone_get()));}${"\x47\x4cO\x42A\x4cS"}["\x77\x6a\x75\x76\x6e\x69\x74\x6e\x6a\x70"]="\x69";$currentDate->setTime($currentDate->format("\x48"),$currentDate->format("i"),0);${${"GLOBA\x4c\x53"}["\x71g\x6ctii\x6c\x62\x6e\x73u"]}=clone${$dzbfvbchf};${$lxsohobnlm}=(int)${${"G\x4cOB\x41\x4cS"}["\x6c\x61\x63\x6bea\x79\x77s\x6c\x71\x6e"]};${${"\x47L\x4fB\x41\x4c\x53"}["r\x62\x77\x68\x78\x6e\x71"]}=array();${${"G\x4c\x4f\x42AL\x53"}["r\x71\x79\x6c\x66\x66g\x67\x76"]}=array();foreach(self::${$nltifgs} as${${"\x47\x4cOBA\x4c\x53"}["\x70\x70\x62q\x79\x79\x6d"]}){${"\x47\x4cO\x42\x41L\x53"}["n\x66\x6e\x64k\x71p\x66g\x67"]="\x66\x69\x65l\x64\x73";${${"\x47L\x4fB\x41\x4cS"}["\x67\x78\x76k\x6b\x71pe\x77"]}=$this->getExpression(${${"\x47\x4c\x4f\x42A\x4cS"}["\x70\x70b\x71\x79y\x6d"]});$uyrxwbpr="\x70\x6fs\x69t\x69o\x6e";$jmlotetqs="part";if(null===${${"\x47L\x4f\x42\x41\x4c\x53"}["\x67\x78v\x6b\x6bq\x70ew"]}||"*"===${$jmlotetqs}){continue;}$ttlhajptj="p\x6fs\x69t\x69on";${${"\x47\x4c\x4f\x42\x41\x4c\x53"}["\x72\x62\x77hx\x6e\x71"]}[${${"\x47\x4cOBA\x4c\x53"}["\x70\x70bq\x79ym"]}]=${${"\x47\x4c\x4f\x42A\x4c\x53"}["g\x78\x76\x6b\x6b\x71\x70\x65\x77"]};${${"\x47\x4c\x4fBA\x4c\x53"}["\x6e\x66\x6e\x64\x6b\x71p\x66\x67\x67"]}[${$ttlhajptj}]=$this->fieldFactory->getField(${$uyrxwbpr});}for(${${"\x47\x4cOBALS"}["\x6b\x78m\x69b\x6aq\x6c\x78\x69d\x64"]}=0;${${"G\x4c\x4fB\x41L\x53"}["\x68wx\x69\x76\x74"]}<1000;${${"\x47L\x4f\x42\x41\x4cS"}["\x77\x6a\x75\x76\x6e\x69\x74\x6e\x6a\x70"]}++){$ncvwggnh="c\x75\x72r\x65\x6e\x74Da\x74\x65";${"G\x4cO\x42A\x4cS"}["\x79\x68\x77\x6a\x63\x77j\x6ci\x6c"]="\x6e\x74\x68";$riubktnhci="\x70\x61\x72t";${"\x47L\x4fB\x41\x4c\x53"}["\x6be\x75\x79\x75\x64\x79"]="\x6e\x65x\x74\x52u\x6e";$kanjrot="\x6e\x65\x78\x74\x52un";foreach(${${"\x47L\x4f\x42\x41L\x53"}["\x72bw\x68\x78\x6e\x71"]} as${${"\x47\x4cO\x42\x41\x4c\x53"}["p\x70bq\x79\x79m"]}=>${$riubktnhci}){${"\x47\x4c\x4f\x42A\x4c\x53"}["\x73\x70\x64s\x66\x62\x6au\x66\x62es"]="\x73at\x69\x73fi\x65\x64";${"\x47LO\x42\x41\x4cS"}["j\x6b\x61\x77pv\x63\x6d"]="\x70a\x72\x74";${${"\x47L\x4f\x42\x41\x4c\x53"}["\x6ak\x61w\x70\x76\x63\x6d"]}=$this->getExpression(${${"\x47\x4cOBA\x4cS"}["\x70\x70\x62\x71\x79y\x6d"]});if(null===${${"\x47\x4cOBAL\x53"}["g\x78v\x6b\x6b\x71\x70e\x77"]}){continue;}${${"\x47\x4c\x4f\x42\x41\x4c\x53"}["s\x70d\x73\x66\x62\x6a\x75\x66\x62\x65\x73"]}=false;$nbtefoou="\x73\x61t\x69\x73f\x69\x65\x64";${${"\x47\x4c\x4f\x42\x41\x4c\x53"}["\x65\x6d\x71\x67\x64\x78\x67\x62q"]}=${${"G\x4c\x4f\x42AL\x53"}["\x77\x64\x79\x61z\x6dnuo\x6c\x6b"]}[${${"\x47\x4cOBA\x4c\x53"}["\x70\x70\x62qy\x79\x6d"]}];if(strpos(${${"\x47\x4c\x4f\x42\x41LS"}["\x67\x78\x76k\x6b\x71\x70\x65\x77"]},",")===false){$cwschflwye="\x73ati\x73\x66\x69\x65\x64";${"G\x4cO\x42\x41L\x53"}["\x69\x6f\x65\x79\x68\x6c\x6fh\x73"]="n\x65\x78tR\x75n";${$cwschflwye}=$field->isSatisfiedBy(${${"\x47LO\x42\x41L\x53"}["i\x6f\x65yh\x6c\x6fh\x73"]},${${"G\x4c\x4f\x42AL\x53"}["\x67\x78\x76\x6bk\x71\x70ew"]});}else{$dymyqmese="\x70\x61r\x74";$nzyuli="\x6c\x69\x73\x74\x50\x61\x72\x74";foreach(array_map("\x74r\x69\x6d",explode(",",${$dymyqmese}))as${$nzyuli}){$hluzks="\x6c\x69s\x74\x50\x61\x72\x74";$rwivswxuirmb="ne\x78\x74\x52\x75\x6e";if($field->isSatisfiedBy(${$rwivswxuirmb},${$hluzks})){${${"G\x4cO\x42\x41LS"}["\x6e\x64\x62fngh"]}=true;break;}}}if(!${$nbtefoou}){$field->increment(${${"\x47\x4cOBA\x4c\x53"}["\x71g\x6c\x74\x69il\x62ns\x75"]},${${"G\x4c\x4fB\x41\x4cS"}["\x6c\x68\x74\x6a\x6e\x6e\x72e\x63\x73\x68"]});continue 2;}}if((!${${"\x47\x4c\x4fBA\x4c\x53"}["\x79b\x6f\x64\x72\x77\x69"]}&&${$kanjrot}==${$ncvwggnh})||--${${"G\x4c\x4f\x42\x41L\x53"}["\x79\x68wjc\x77\x6al\x69\x6c"]}>-1){${"GLO\x42\x41\x4c\x53"}["z\x62\x6c\x64\x67odt"]="\x69n\x76\x65\x72\x74";$ctaifjhcaekv="n\x65x\x74R\x75\x6e";$this->fieldFactory->getField(0)->increment(${$ctaifjhcaekv},${${"\x47\x4c\x4f\x42\x41\x4c\x53"}["z\x62\x6c\x64\x67o\x64\x74"]});continue;}return${${"\x47\x4c\x4f\x42\x41L\x53"}["\x6beu\x79u\x64y"]};}throw new\RuntimeException("\x49\x6d\x70os\x73ib\x6ce\x20C\x52ON \x65\x78p\x72es\x73\x69\x6fn");}}
?>