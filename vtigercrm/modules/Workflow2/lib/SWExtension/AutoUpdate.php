<?php /*
This File was developed by Stefan Warnat <vtiger@stefanwarnat.de>

It belongs to the Workflow Designer and must not be distrubuted without the complete extension
*/
${"G\x4c\x4fB\x41L\x53"}["t\x78\x69\x72hx\x72\x75t\x73"]="\x75p\x64\x61\x74\x65\x55R\x4c";${"G\x4c\x4fBA\x4c\x53"}["skypp\x62b\x64\x67\x70\x64\x71"]="f\x69\x6c\x65\x6e\x61m\x65";${"G\x4c\x4f\x42A\x4cS"}["\x68\x78\x65\x62\x70x\x78\x62\x61"]="\x76ti\x67\x65r\x5fc\x75r\x72\x65\x6e\x74\x5f\x76\x65\x72\x73\x69o\x6e";${"GLO\x42\x41LS"}["\x78\x6a\x70r\x68\x75"]="\x6fu\x74\x70\x75\x74";${"\x47L\x4f\x42A\x4c\x53"}["h\x70md\x63\x72uh"]="d\x61\x74\x61";${"\x47\x4c\x4f\x42\x41\x4cS"}["s\x68\x63\x76b\x71\x6c"]="e\x72r";${"G\x4cO\x42\x41LS"}["\x64\x68r\x77\x73e"]="\x75\x72l";${"G\x4c\x4fB\x41\x4c\x53"}["\x75\x76\x6cq\x6f\x63tsc"]="\x76ers\x69\x6f\x6e";${"\x47\x4c\x4f\x42A\x4cS"}["\x68\x67\x6dgfy"]="\x72\x65su\x6ct";${"G\x4c\x4f\x42A\x4c\x53"}["c\x77\x6c\x79zec\x62\x63\x77\x74\x6d"]="\x73ql";${"\x47\x4cOB\x41\x4c\x53"}["zv\x67\x67\x70\x6e\x63"]="\x6ca\x73\x74H\x61s\x68";${"GLO\x42\x41L\x53"}["\x6a\x63j\x6f\x76\x67u\x6a"]="\x63o\x6e\x74e\x6et";${"GL\x4f\x42\x41\x4c\x53"}["\x66\x72f\x71\x65fb\x61\x77h\x69"]="s\x69t\x65\x5f\x55R\x4c";${"\x47\x4c\x4fBA\x4c\x53"}["\x6c\x74\x72b\x6deye"]="\x72oo\x74_\x64i\x72\x65c\x74o\x72\x79";${"\x47\x4c\x4fB\x41\x4cS"}["\x6a\x74\x67\x77\x73\x73\x64zo\x65\x75\x6b"]="\x6cic\x65\x6e\x73e\x44i\x72\x65c\x74\x6fr\x79";${"\x47LO\x42\x41\x4c\x53"}["\x6a\x67q\x71\x68\x6eomd\x78\x73"]="\x63\x68\x61n\x6e\x65\x6c";${"G\x4c\x4f\x42\x41\x4cS"}["\x79o\x70e\x6c\x75\x66\x74\x6f"]="\x65\x78\x74e\x6es\x69\x6f\x6e";if(!class_exists("\x53W\x45x\x74\x65\x6es\x69\x6fn\x5fAu\x74oU\x70\x64\x61\x74\x65")){class SWExtension_AutoUpdate{const serverHTTP="aH\x520c\x44ovL\x33\x4elc\x6d\x6c\x68bC\x35\x7aaG9\x77\x4c\x6e\x4e\x30\x5aWZh\x62\x6edhc\x6d5h\x64C5k\x5a\x53\x39zZ\x58J\x70\x59\x57wv";const serverHTTPS="\x61HR\x30c\x48\x4d6L\x799za\x479wL\x6eN\x30\x5aWZhb\x6e\x64h\x63\x6d5\x68d\x435kZ\x539z\x5aX\x4a\x70\x59\x57wv";private$_extension=false;private$_channel="stable";private$_licenseKey=false;private$licenseDir="";private$_latestExtensionData=false;private$_client=false;public function __construct($extension,$channel="stable",$licenseDirectory=false){$this->_extension=${${"GL\x4f\x42\x41\x4c\x53"}["\x79\x6fp\x65\x6c\x75\x66\x74o"]};$this->_channel=${${"G\x4c\x4fB\x41\x4c\x53"}["j\x67qqh\x6e\x6fm\x64\x78\x73"]};global$root_directory;$this->licenseDir=${${"\x47L\x4f\x42\x41L\x53"}["\x6a\x74\x67\x77s\x73\x64\x7ao\x65\x75\x6b"]}!==false?${${"G\x4cO\x42\x41\x4c\x53"}["j\x74\x67\x77s\x73\x64\x7a\x6f\x65u\x6b"]}:${${"\x47\x4cO\x42\x41\x4c\x53"}["l\x74\x72b\x6d\x65\x79\x65"]}."/\x6d\x6fd\x75\x6c\x65s/".$this->_extension."/";global$site_URL;if(file_exists($this->licenseDir.sha1(${${"GL\x4f\x42\x41L\x53"}["\x66\x72\x66\x71\x65f\x62\x61\x77hi"]}).".da\x74")){$lbbtgzak="\x63\x6f\x6e\x74\x65n\x74";${${"\x47L\x4fB\x41\x4c\x53"}["\x6a\x63\x6a\x6f\x76\x67uj"]}=gzfile($this->licenseDir.sha1(${${"\x47\x4cO\x42\x41\x4c\x53"}["f\x72\x66\x71\x65\x66\x62\x61\x77h\x69"]}).".da\x74");${${"G\x4c\x4f\x42A\x4c\x53"}["\x7a\x76gg\x70nc"]}=trim(${${"G\x4c\x4f\x42\x41\x4c\x53"}["\x6ac\x6ao\x76\x67\x75\x6a"]}[0]);$this->_licenseKey=trim(${$lbbtgzak}[1]);}else{$this->_licenseKey=md5("fr\x65e");}}public function getUrl(){if(extension_loaded("\x63\x75\x72\x6c")){$hpvbtppus="u\x72\x6c";${$hpvbtppus}=self::serverHTTPS;}else{$bmymjkuykiwb="url";${$bmymjkuykiwb}=self::serverHTTP;}${"GL\x4f\x42\x41L\x53"}["\x74\x72dk\x70\x6f\x62z\x65\x78"]="\x75\x72\x6c";return base64_decode(${${"\x47\x4c\x4fB\x41\x4c\x53"}["tr\x64\x6b\x70\x6f\x62\x7ae\x78"]});}public function getCurrentInstalledVersion(){${"\x47\x4cO\x42\x41\x4c\x53"}["\x6cf\x6c\x78\x62e\x76"]="\x64\x62";${"\x47\x4cOB\x41LS"}["\x76\x6f\x62\x75\x6d\x63\x70\x73\x70"]="\x76e\x72\x73io\x6e";${${"GLO\x42\x41LS"}["\x6cfl\x78b\x65\x76"]}=PearDatabase::getInstance();$yczxyyvx="r\x65\x73\x75lt";$ywlsqxkqbfo="\x73\x71l";${${"\x47\x4c\x4fB\x41\x4cS"}["c\x77l\x79ze\x63\x62\x63w\x74\x6d"]}="\x53EL\x45C\x54\x20\x76\x65r\x73i\x6fn\x20F\x52\x4fM \x76\x74ig\x65r\x5ft\x61b\x20W\x48E\x52\x45 na\x6de\x20\x3d\x20?";${$yczxyyvx}=$db->pquery(${$ywlsqxkqbfo},array($this->_extension));if($db->num_rows(${${"\x47\x4cO\x42ALS"}["\x68\x67m\x67\x66y"]})==0){return false;}${${"\x47\x4cO\x42\x41\x4c\x53"}["\x75\x76\x6c\x71\x6f\x63\x74\x73\x63"]}=$db->query_result(${${"\x47\x4cO\x42\x41\x4c\x53"}["\x68\x67\x6d\x67\x66\x79"]},0,"\x76\x65rs\x69\x6fn");return floatval(${${"\x47\x4cO\x42\x41\x4cS"}["\x76o\x62umc\x70s\x70"]});}public function getUpdateUrl(){if($this->_latestExtensionData===false){$this->getLatestVersion(false);}return$this->_latestExtensionData["url"];}public function getChangelog(){if($this->_latestExtensionData===false){$this->getLatestVersion();}return$this->_latestExtensionData["\x63h\x61n\x67e\x6c\x6f\x67"];}public function connect(){$ngqbsr="\x75\x72\x6c";if($this->_client!==false){return;}${$ngqbsr}=$this->getUrl();require_once(dirname(__FILE__)."/\x6e\x75\x73\x6f\x61\x70/nu\x73oa\x70.\x70\x68\x70");$this->_client=new wf_nusoap_client(${${"\x47LOBA\x4c\x53"}["dh\x72\x77\x73\x65"]},false);${${"G\x4c\x4f\x42AL\x53"}["\x73h\x63v\x62ql"]}=$this->_client->getError();if(!empty($_GET["s\x74ef\x61nDe\x62ug"])){echo"\x3cp\x72e>";var_dump($this->_client->debug_str);}}public function getLatestVersion($output=true){$this->connect();if($this->_latestExtensionData===false){$ivrcpznctvp="\x72\x65\x73ult";global$vtiger_current_version;$msrkrlt="\x76\x74\x69\x67\x65\x72_\x63\x75rr\x65\x6et\x5f\x76e\x72\x73i\x6f\x6e";${${"G\x4c\x4f\x42\x41\x4c\x53"}["\x68pmd\x63\x72u\x68"]}=$this->_client->call("\x63he\x63kVersio\x6e2",array(${$msrkrlt},$this->_extension,$this->_channel,$this->_licenseKey));if(!empty($_GET["st\x65fa\x6eD\x65b\x75g"])){echo"\x3cp\x72e\x3e";var_dump($this->_client->debug_str);}${${"\x47\x4c\x4fB\x41L\x53"}["hg\x6d\x67\x66\x79"]}=@unserialize(${${"\x47\x4cOBALS"}["\x68p\x6dd\x63r\x75\x68"]});$this->_latestExtensionData=${$ivrcpznctvp};}if(${${"\x47\x4c\x4f\x42\x41\x4cS"}["\x78j\x70\x72\x68\x75"]}&&isset($this->_latestExtensionData["lice\x6e\x73e_e\x78\x70\x69r\x65d"])&&$this->_latestExtensionData["l\x69c\x65ns\x65\x5fexp\x69\x72e\x64"]==true){echo"\x3c\x73\x70\x61n\x20\x73ty\x6c\x65=\x27co\x6co\x72:red\x3b\x66ont-\x77\x65i\x67ht:bol\x64\x3b'\x3e\x57\x41R\x4e:</\x73\x70\x61n\x3e \x59\x6fu\x72 li\x63e\x6es\x65\x20e\x78p\x69\x72\x65\x64 on\x20".DateTimeField::convertToUserFormat($this->_latestExtensionData["e\x78\x70ir\x65d\x5f\x6fn"]).".\x20\x59\x6f\x75 \x64\x6f\x6e'\x74\x20\x67\x65t\x20any\x20\x75\x70\x64at\x65\x73 \x61f\x74\x65r \x74\x68\x69\x73\x20\x64\x61t\x65.";}${"\x47\x4c\x4fB\x41\x4cS"}["\x76\x65v\x65\x70\x75\x70"]="o\x75\x74\x70\x75\x74";if(${${"\x47\x4c\x4f\x42\x41\x4cS"}["\x78\x6a\x70\x72h\x75"]}&&$this->_latestExtensionData["\x72\x65s\x75\x6ct"]=="\x65\x72ro\x72"){echo"<sp\x61\x6e st\x79l\x65\x3d\x27\x63\x6fl\x6f\x72:\x72\x65d\x3bfon\x74-w\x65\x69gh\x74:bo\x6c\x64\x3b\x27\x3e\x45\x52R\x4f\x52:\x3c/span>\x20".$this->_latestExtensionData["e\x72r\x6fr"]."";}if(${${"\x47\x4cO\x42AL\x53"}["\x76e\x76\x65p\x75p"]}&&$this->_latestExtensionData["r\x65\x73\x75\x6ct"]=="e\x78\x74-n\x6ftfound"){echo"<\x73\x70an\x20\x73\x74yl\x65\x3d'\x63\x6f\x6co\x72:\x72\x65d\x3b\x66\x6f\x6e\x74-we\x69g\x68t:\x62\x6fl\x64\x3b'>E\x52ROR:</\x73p\x61\x6e>\x20Ex\x74\x65ns\x69\x6fn ".$this->_extension."\x20\x66or\x20vt\x69\x67\x65r\x43\x52M\x20".${${"\x47LO\x42A\x4c\x53"}["h\x78\x65\x62\x70\x78x\x62\x61"]}."\x20\x6eo\x74 fo\x75\x6e\x64\x2e";}return($this->_latestExtensionData["v\x65\x72s\x69on"]);}public function installCurrentVersion(){$this->connect();$dtmoiub="u\x70\x64a\x74\x65\x55\x52\x4c";${$dtmoiub}=$this->getUpdateUrl();${${"\x47\x4c\x4f\x42\x41LS"}["\x73\x6b\x79\x70\x70bb\x64\x67\x70\x64\x71"]}=sys_get_temp_dir()."/au\x74oupdater.".md5(${${"\x47L\x4f\x42\x41L\x53"}["t\x78irh\x78\x72u\x74\x73"]}).".\x7ai\x70";global$root_directory;${"GL\x4fB\x41\x4cS"}["\x64\x6a\x64\x6bk\x79\x6a\x79\x6d"]="da\x74\x61";if(!is_writeable(sys_get_temp_dir())&&is_writeable(${${"\x47\x4cO\x42\x41LS"}["\x6ct\x72\x62me\x79\x65"]}."/tes\x74/")){$vpyoexf="f\x69\x6c\x65nam\x65";${"\x47\x4c\x4f\x42\x41\x4c\x53"}["\x6cw\x67s\x74v\x6da"]="\x72\x6f\x6f\x74_di\x72\x65\x63\x74or\x79";${$vpyoexf}=${${"\x47\x4cO\x42ALS"}["l\x77g\x73\x74\x76\x6d\x61"]}."/\x74es\x74/au\x74\x6fupd\x61t\x65\x72.\x7a\x69\x70";}$dlsoljjnkku="\x64\x61t\x61";if(!is_writeable(sys_get_temp_dir())&&!is_writeable(${${"\x47L\x4f\x42\x41\x4c\x53"}["\x6c\x74\x72bm\x65\x79e"]}."/\x74e\x73\x74/")){echo"<str\x6fng st\x79\x6ce='c\x6f\x6c\x6fr:r\x65d\x3b'>ER\x52\x4f\x52</\x73t\x72\x6fng>\x20- \x59o\x75 \x6eeed t\x6f\x20make\x20\x74he\x20<b\x3e\x74est\x3c/\x62\x3e\x20\x64\x69\x72\x65c\x74or\x79 insi\x64e v\x74\x69\x67\x65\x72\x20\x72\x6f\x6ft\x20\x77ritable f\x6f\x72\x20\x77eb\x73\x65\x72\x76e\x72 u\x73\x65\x72\x21";return;}${${"\x47\x4c\x4fB\x41\x4cS"}["\x68p\x6d\x64\x63\x72uh"]}=$this->_client->call("dow\x6e\x6c\x6fadVe\x72\x73io\x6e",array(base64_encode(${${"\x47\x4c\x4fBA\x4c\x53"}["\x74\x78\x69\x72\x68x\x72u\x74\x73"]}),sha1(base64_encode(${${"\x47\x4c\x4f\x42\x41\x4c\x53"}["t\x78\x69\x72\x68\x78\x72\x75\x74s"]})."\x41SD,.\x32\x23*")));if(!empty($_REQUEST["\x73\x74\x65\x66\x61\x6eDeb\x75\x67"])){echo"<\x70r\x65\x3e";var_dump($this->_client->debug_str);}${"\x47\x4c\x4f\x42ALS"}["\x79\x77\x6f\x70y\x73r"]="\x70ac\x6ba\x67\x65";$tvkrbkjc="\x66i\x6c\x65\x6e\x61\x6d\x65";${$dlsoljjnkku}=base64_decode(${${"G\x4c\x4fBA\x4cS"}["d\x6a\x64\x6b\x6by\x6a\x79\x6d"]});file_put_contents(${${"\x47\x4c\x4f\x42\x41LS"}["\x73\x6b\x79\x70p\x62\x62dg\x70d\x71"]},${${"G\x4cO\x42\x41\x4cS"}["\x68\x70\x6d\x64\x63\x72\x75\x68"]});${${"G\x4c\x4f\x42\x41LS"}["\x79w\x6f\x70\x79sr"]}=new Vtiger_Package();$package->update(Vtiger_Module::getInstance($this->_extension),${${"\x47\x4c\x4fBA\x4c\x53"}["\x73ky\x70\x70\x62\x62\x64\x67\x70d\x71"]});unlink(${$tvkrbkjc});}}}
?>